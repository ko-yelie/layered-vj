(function(e){function t(t){for(var n,a,s=t[0],c=t[1],d=t[2],u=0,l=[];u<s.length;u++)a=s[u],o[a]&&l.push(o[a][0]),o[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);p&&p(t);while(l.length)l.shift()();return r.push.apply(r,d||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],n=!0,a=1;a<i.length;a++){var s=i[a];0!==o[s]&&(n=!1)}n&&(r.splice(t--,1),e=c(c.s=i[0]))}return e}var n={},a={3:0},o={3:0},r=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{1:"ca7ced49"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.e=function(e){var t=[],i={1:1};a[e]?t.push(a[e]):0!==a[e]&&i[e]&&t.push(a[e]=new Promise(function(t,i){for(var n="css/"+({}[e]||e)+"."+{1:"e97be71a"}[e]+".css",a=c.p+n,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var s=o[r],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===n||d===a))return t()}var u=document.getElementsByTagName("style");for(r=0;r<u.length;r++){s=u[r],d=s.getAttribute("data-href");if(d===n||d===a)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var n=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");o.request=n,i(o)},l.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(l)}).then(function(){a[e]=0}));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise(function(t,i){n=o[e]=[t,i]});t.push(n[2]=r);var d,u=document.getElementsByTagName("head")[0],l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(e),d=function(t){l.onerror=l.onload=null,clearTimeout(p);var i=o[e];if(0!==i){if(i){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,r=new Error("Loading chunk "+e+" failed.\n("+n+": "+a+")");r.type=n,r.request=a,i[1](r)}o[e]=void 0}};var p=setTimeout(function(){d({type:"timeout",target:l})},12e4);l.onerror=l.onload=d,u.appendChild(l)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,i){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(i,n,function(t){return e[t]}.bind(null,n));return i},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/layered-vj/",c.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],u=d.push.bind(d);d.push=t,d=d.slice();for(var l=0;l<d.length;l++)t(d[l]);var p=u;r.push([12,0]),i()})({"+cSr":function(e,t,i){},0:function(e,t){},12:function(e,t,i){e.exports=i("Vtdi")},"2DhI":function(e){e.exports={particles:{number:{value:80,density:{enable:!0,value_area:800}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:15,random:!0,anim:{enable:!0,speed:134.26573426573427,size_min:6.393606393606394,sync:!1}},line_linked:{enable:!0,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:60,direction:"top",random:!0,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:.639515587180546}},bubble:{distance:400,size:40,duration:2,opacity:.21926084732136317,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}}}},"4PLj":function(e){e.exports=[{url:"https://www.youtube.com/embed/NpEaa2P7qZI?rel=0&amp;controls=0&amp;showinfo=0&autoplay=1&loop=1&playlist=NpEaa2P7qZI",title:"video placeholder",thumbnail:"/assets/thumbnail/mqdefault.jpg",copyright:"Tristan Brehaut",copyrightLink:"https://www.youtube.com/watch?v=NpEaa2P7qZI"},{url:"/src/visual/assets/iframe/plasmatic-isosurface/",title:"Plasmatic Isosurface",thumbnail:"/assets/thumbnail/plasmatic-isosurface.png",copyright:"Justin Windle",copyrightLink:"https://codepen.io/soulwire/pen/kqtrz"},{url:"/src/visual/assets/iframe/css-wormhole/",title:"CSS wormhole",thumbnail:"/assets/thumbnail/css-wormhole.png",copyright:"Indrek Paas",copyrightLink:"https://codepen.io/indrekpaas/pen/xEmRVd"},{url:"/src/visual/assets/iframe/blank/",title:"blank",thumbnail:"http://placehold.jp/ffffff/ffffff/100x100.png",opacity:1}]},"73KZ":function(e){e.exports=[{url:"/src/visual/assets/video/D0002050643_00000_V_000.mp4",title:"ウユニの天空の鏡に映る時の流れ",thumbnail:"/assets/thumbnail/D0002050643_00000_S_005.jpg",copyright:"NHK",copyrightLink:"http://www2.nhk.or.jp/archives/creative/material/view.cgi?m=D0002050643_00000"},{url:"/src/visual/assets/video/D0002100090_00000_V_000.mp4",title:"オーロラ",thumbnail:"/assets/thumbnail/D0002100090_00000_S_005.jpg",copyright:"NHK",copyrightLink:"http://www2.nhk.or.jp/archives/creative/material/view.cgi?m=D0002100090_00000"},{url:"/src/visual/assets/video/D0002100042_00000_V_000.mp4",title:"夜の高速道路　トンネル",thumbnail:"/assets/thumbnail/D0002100042_00000_S_005.jpg",copyright:"NHK",copyrightLink:"http://www2.nhk.or.jp/archives/creative/material/view.cgi?m=D0002100042_00000",playbackRate:2}]},AdMn:function(e,t,i){"use strict";i.r(t);i("91GP");var n=i("LvDl"),a=i("GIzg"),o=i("73KZ"),r=i("sGyF"),s=i("4PLj"),c=[{title:"Webcam x Particle",type:"webcamParticle",gui:"webcamParticle",thumbnail:"/assets/thumbnail/webcam-particle.gif",opacity:1}],d={video:o.map(function(e){return Object.assign(e,{type:"videoTag",opacity:e.opacity||1})}),canvas:r.map(function(e){return Object.assign(e,{opacity:e.opacity||1})}),iframe:s.map(function(e){return Object.assign(e,{type:"iframeTag",opacity:e.opacity||1})})};function u(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];a["a"].send.apply(a["a"],["dispatch-connect",e].concat(i))}t["default"]={state:{visualWebcam:c,visualStock:d,displayingVideos:[]},mutations:{UPDATE_VIDEOS:function(e,t){e.visualStock=t},UPDATE_DISPLAYING_VIDEOS:function(e,t){e.displayingVideos=t},ADD_DISPLAYING_VIDEO:function(e,t){var i=t.video,n=t.copyVideo;e.displayingVideos.splice(e.displayingVideos.indexOf(i),1,n)},UPDATE_OPACITY:function(e,t){var i=t.video,n=t.opacity;i.opacity=n},REMOVE_DISPLAYING_VIDEO:function(e,t){e.displayingVideos.splice(e.displayingVideos.indexOf(t),1)}},actions:{updateVideos:function(e,t){var i=e.commit;i("UPDATE_VIDEOS",t)},updateDisplayingVideos:function(e,t){var i=e.commit;e.state;i("UPDATE_DISPLAYING_VIDEOS",t)},changeDisplayingVideos:function(e,t){e.commit;var i=e.dispatch,n=t.added,a=t.moved;n?i("addDisplayingVideo",n.element):a&&i("updateDisplayingVideosOrder")},addDisplayingVideo:function(e,t){var i=e.commit,a=e.dispatch,o=Object(n["uniqueId"])(),r=Object.assign({id:o},t);i("ADD_DISPLAYING_VIDEO",{video:t,copyVideo:r}),u("addDisplayingVideo",r),a("updateDisplayingVideosOrder")},updateDisplayingVideosOrder:function(e){e.commit;var t=e.state;u("updateDisplayingVideosOrder",t.displayingVideos)},updateOpacity:function(e,t){var i=e.commit;i("UPDATE_OPACITY",t),u("updateOpacity",t.video)},removeDisplayingVideo:function(e,t){var i=e.commit;i("REMOVE_DISPLAYING_VIDEO",t),u("removeDisplayingVideo",t)},refresh:function(){location.reload()}}}},F5Xk:function(e,t,i){"use strict";i.r(t);i("pIFo"),i("rGqo"),i("yt8O"),i("VRzm");var n=i("NPD2"),a={};n.keys().forEach(function(e){"./index.js"!==e&&(a[e.replace(/(\.\/|\.js)/g,"")]=n(e).default)}),t["default"]=a},GCAn:function(e,t,i){"use strict";var n=i("Ob9h"),a=i.n(n);a.a},GIzg:function(e,t,i){"use strict";var n=i("xmWZ"),a=i("3Aqn"),o=i("qpph"),r=i("0yhX"),s=i("EdlT"),c=i("uNcV"),d=(i("yt8O"),i("VRzm"),i("rGqo"),i("f3/d"),function(){function e(){Object(n["a"])(this,e),this._listeners={}}return Object(o["a"])(e,[{key:"_get",value:function(e){return this._listeners[e]||[]}},{key:"on",value:function(e,t){var i=this._listeners[e]=this._get(e);i.push(t)}},{key:"once",value:function(e,t){var i=this,n=this._listeners[e]=this._get(e),a=function(){t.apply(void 0,arguments),i.off(e)};n.push(a)}},{key:"emit",value:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this._get(e).forEach(function(e){return e.apply(void 0,i)})}},{key:"off",value:function(e){delete this._listeners[e]}}]),e}()),u=function(e){function t(){return Object(n["a"])(this,t),Object(r["a"])(this,Object(s["a"])(t).apply(this,arguments))}return Object(o["a"])(t,[{key:"openVisual",value:function(){this.visualWindow=window.open("visual.html","visual")}},{key:"on",value:function(e,i){Object(c["a"])(Object(s["a"])(t.prototype),"on",this).call(this,e,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.apply(void 0,[{}].concat(t))})}},{key:"once",value:function(e,i){Object(c["a"])(Object(s["a"])(t.prototype),"once",this).call(this,e,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.apply(void 0,[{}].concat(t))})}},{key:"send",value:function(e){for(var i,n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];(i=Object(c["a"])(Object(s["a"])(t.prototype),"emit",this)).call.apply(i,[this,e].concat(a))}}]),Object(a["a"])(t,e),t}(d);window.ipc=new u;t["a"]=window.ipc},Kolu:function(e,t,i){"use strict";var n=i("+cSr"),a=i.n(n);a.a},NPD2:function(e,t,i){var n={"./Media.js":"nZj0","./Video.js":"AdMn","./index.js":"F5Xk"};function a(e){var t=o(e);return i(t)}function o(e){var t=n[e];if(!(t+1)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id="NPD2"},Ob9h:function(e,t,i){},Vtdi:function(e,t,i){"use strict";i.r(t);i("yt8O"),i("VRzm");var n=i("Kw5r"),a=i("Q/mQ"),o=i.n(a),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("router-view")},s=[],c=(i("nNx0"),i("KHd+")),d={},u=Object(c["a"])(d,r,s,!1,null,null,null),l=u.exports,p=i("jE9Z"),h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"home"},[i("h1",{staticClass:"md-display-4"},[e._v("Layered VJ")]),i("router-link",{attrs:{to:"/control"}},[i("md-button",{staticClass:"md-raised md-primary"},[e._v("Go to Control")])],1),e._m(0)],1)},m=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",[i("strong",{staticClass:"md-body-2"},[e._v("Note: The new tab will automatically open on the control page.")])])}],f=(i("wFD3"),{}),v=Object(c["a"])(f,h,m,!1,null,null,null),g=v.exports,b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container"},[i("md-toolbar",[i("h1",{staticClass:"md-title"},[e._v("Layered VJ - Control")]),i("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(t){return e.refresh(t)}}},[i("md-icon",[e._v("refresh")]),i("md-tooltip",{attrs:{"md-direction":"left"}},[e._v("Reload")])],1)],1),i("md-layout",{staticClass:"layout"},[i("md-layout",{staticClass:"column displaying-videos",attrs:{"md-column":""}},[i("div",{staticClass:"column-inner"},[i("draggable",{attrs:{options:{group:"video"}},on:{change:e.changeDisplayingVideos},model:{value:e.displayingVideos,callback:function(t){e.displayingVideos=t},expression:"displayingVideos"}},[i("transition-group",{staticClass:"displaying-videos-list",attrs:{name:"flip-list"}},e._l(e.displayingVideos,function(e){return i("vj-displaying-video",{key:e.id,staticClass:"displaying-videos-item",attrs:{video:e}})}))],1)],1)]),i("md-layout",{staticClass:"column",attrs:{"md-column":"","md-flex":"40"}},[i("div",{staticClass:"column-inner"},[i("md-list",{staticClass:"md-dense video-stock"},[i("draggable",{attrs:{list:e.visualWebcam,options:{group:{name:"video",pull:"clone",put:!1},sort:!1}}},e._l(e.visualWebcam,function(t,n){return i("md-list-item",{key:n},[t.thumbnail?i("md-avatar",{staticClass:"md-large"},[i("img",{attrs:{src:t.thumbnail,alt:""}})]):e._e(),i("span",[e._v(e._s(t.title))])],1)})),e._l(e.visualStock,function(t,n){return i("md-list-item",{key:n},[i("span",[e._v(e._s(n))]),i("md-list-expand",[i("md-list",[i("draggable",{attrs:{list:t,options:{group:{name:"video",pull:"clone",put:!1},sort:!1}}},e._l(t,function(t,n){return i("md-list-item",{key:n,staticClass:"md-inset",attrs:{"md-expand-multiple":""}},[t.thumbnail?i("md-avatar",{staticClass:"md-large"},[i("img",{attrs:{src:t.thumbnail,alt:""}})]):e._e(),i("span",[e._v(e._s(t.title))])],1)}))],1)],1)],1)})],2),i("md-tooltip",{attrs:{"md-direction":"top"}},[e._v("Drag the item and drop it on the left area")])],1)])],1),i("vj-thumb")],1)},y=[],w=i("yT7P"),_=i("FRYs"),k=i.n(_),S=i("L2JU"),C=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("md-card",[i("md-card-media-cover",{attrs:{"md-solid":""}},[i("md-card-media",{attrs:{"md-ratio":"16:9"}},[i("img",{attrs:{src:e.video.thumbnail,alt:""}})]),i("md-card-area",[i("md-card-header",[i("div",{staticClass:"md-title"},[e._v(e._s(e.video.title))]),e.video.copyright?i("div",{staticClass:"md-subhead"},[i("a",{attrs:{href:e.video.copyrightLink,target:"_blank"}},[e._v("© "+e._s(e.video.copyright))])]):e._e()]),i("md-card-actions",[i("div",{staticClass:"dv-slider"},[i("range-slider",{attrs:{min:"0",max:"1",step:"0.05"},on:{input:e.updateOpacity},model:{value:e.opacity,callback:function(t){e.opacity=t},expression:"opacity"}}),i("md-tooltip",{attrs:{"md-direction":"left"}},[e._v("opacity")])],1),i("md-button",{nativeOn:{click:function(t){return e.removeDisplayingVideo(t)}}},[e._v("Remove")])],1)],1)],1)],1)},D=[],j=i("x+M9"),O=i.n(j),z=(i("91GP"),i("xfY5"),i("RW0V"),i("rGqo"),i("OG14"),i("ls82"),i("MECJ")),A=i("iZKT"),E=i("GIzg"),P=i("sJXk"),x=i("t7pz"),V=function(e,t){return T.apply(this,arguments)};function T(){return T=Object(z["a"])(regeneratorRuntime.mark(function e(t,i){var n,a,o,r,s,c,d,u,l,p,h,m,f,v,g,b,y,w,_,k,S,C,D,j,O,z,V,T,I,L,F;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:F=function(e){switch(this.property){case"videoZoom":i.commit("UPDATE_ZOOM",l.videoZoom);break;case"videoAlpha":i.commit("UPDATE_ALPHA",l.videoAlpha);break;case"inputAudio":i.commit("UPDATE_INPUT_AUDIO",l.inputAudio);break}},V=function(e){switch(E["a"].send("dispatch-webcam-particle","update",this.property,e),this.property){case"animation":switch(e){case"normal":case"warp":case"pop":l.particleAlpha=1;break;case"none":default:l.particleAlpha=0,l.videoAlpha=1}"pop"===e&&c.setValue(1),E["a"].send("dispatch-webcam-particle","update","particleAlpha",l.particleAlpha),E["a"].send("dispatch-webcam-particle","update","videoAlpha",l.videoAlpha),i.commit("UPDATE_ALPHA",l.videoAlpha);break;case"mode":switch(r.close(),s.close(),Number(e)){case x["e"]:case x["n"]:s.open();break;case x["j"]:default:r.open()}break;case"autoDeformation":l.autoDeformation?u=setInterval(l.changeDeformation,1e3):clearTimeout(u);break}},n=t||P,a=location.search.substring(1)||n.preset,o=new A["a"].GUI({load:n,preset:a}),l=n.remembered[a][0],o.remember(l),p=o.addFolder("Post Effect"),p.open(),h=x["m"],p.add(l,"effect",h).onChange(V),p.add(l,"effect2",h).onChange(V),p.add(l,"lastEffect",h).onChange(V),m=[0,1],p.add.apply(p,[l,"custom"].concat(m)).onChange(V),p.add(l,"customSwitch").onChange(V),v=o.addFolder("Particle"),g=["none","normal","warp","pop"],v.add(l,"animation",g).onChange(V),b={"gl.POINTS":x["j"],"gl.LINE_STRIP":x["e"],"gl.TRIANGLES":x["n"]},v.add(l,"mode",b).onChange(V),r=v.addFolder("gl.POINTS"),y={square:0,circle:1,star:2,video:3},r.add(l,"pointShape",y).onChange(V),w=[.1,30],(f=r).add.apply(f,[l,"pointSize"].concat(w)).onChange(V),s=v.addFolder("gl.LINE_STRIP"),_=["line","mesh"],s.add(l,"lineShape",_).onChange(V),d={},k=0,S=x["c"],t&&t.deformation&&(S=S.concat(t.deformation)),S.forEach(function(e){var t=e.key;d[t]=k++}),v.add(l,"deformation",d).onChange(V).listen(),l.changeDeformation=function(){var e=Object.keys(d);e.some(function(t,i){d[t]===l.deformation&&e.splice(i,1)}),l.deformation=d[e[Math.floor(Math.random()*e.length)]],E["a"].send("dispatch-webcam-particle","update","deformation",l.deformation)},v.add(l,"changeDeformation").onChange(V),v.add(l,"autoDeformation").onChange(V),C=v.addFolder("canvas"),D={black:0,white:1},c=C.add(l,"bgColor",D).onChange(V),j=[x["i"],x["g"]],C.add.apply(C,[l,"zPosition"].concat(j)).listen().onChange(V),C.add(l,"pointer").onChange(V),C.add(l,"accel").onChange(V),C.add(l,"rotation").listen().onChange(V),O=v.addFolder("video"),O.add(l,"capture").onChange(V),O.add(l,"stopMotion").onChange(V),z=[0,1],v.add.apply(v,[l,"particleAlpha"].concat(z)).onChange(V).listen(),T=o.addFolder("media"),I=[1,3],T.add.apply(T,[l,"videoZoom"].concat(I)).onChange(F),L=[0,1],T.add.apply(T,[l,"videoAlpha"].concat(L)).onChange(F),T.add(l,"inputAudio").onChange(F),E["a"].send("dispatch-webcam-particle","init",Object.assign({},l));case 58:case"end":return e.stop()}},e,this)})),T.apply(this,arguments)}i("f3/d");var I,L=i("LvDl"),F=i("kpC+"),M=i("2DhI"),R={default:F,top:M},N=function(e){var t=R[e]||{};E["a"].send("dispatch-particles-js","initParticlesJs",t),E["a"].once("receive-particles-js",function(e,t){var i,n,a,o,r,s={},c=Object(L["pick"])(t,["particles","interactivity","retina_detect","tmp"]),d=new A["a"].GUI({autoPlace:!0,closed:!0,width:340});s.update=function(){E["a"].send("dispatch-particles-js","updateParticlesJs",c)},r={particles:d.addFolder("particles"),interactivity:d.addFolder("interactivity")},i={particles:{number:r.particles.addFolder("number"),color:r.particles.addFolder("color"),shape:r.particles.addFolder("shape"),size:r.particles.addFolder("size"),opacity:r.particles.addFolder("opacity"),line_linked:r.particles.addFolder("line_linked"),move:r.particles.addFolder("move")},interactivity:{events_onhover:r.interactivity.addFolder("onhover"),events_onclick:r.interactivity.addFolder("onclick"),modes:r.interactivity.addFolder("modes")}},n={shape_stroke:i.particles.shape.addFolder("stroke"),shape_polygon:i.particles.shape.addFolder("polygon"),shape_image:i.particles.shape.addFolder("image"),size_anim:i.particles.size.addFolder("anim"),opacity_anim:i.particles.opacity.addFolder("anim")},a={grab:i.interactivity.modes.addFolder("grab"),bubble:i.interactivity.modes.addFolder("bubble"),repulse:i.interactivity.modes.addFolder("repulse"),push:i.interactivity.modes.addFolder("push"),remove:i.interactivity.modes.addFolder("remove")},o={grab_linelinked:a.grab.addFolder("line_linked")},d.add(c,"retina_detect").name("retina_detect").onChange(function(e){return c.retina_detect=e,s.update()}),i.particles.number.add(c.particles.number,"value",0,600).name("value").step(1).onChange(function(e){return c.particles.number.value=e,s.update()}),i.particles.number.add(c.particles.number.density,"enable").name("density.enable").onChange(function(e){return c.particles.number.density.enable=e,s.update()}),i.particles.number.add(c.particles.number.density,"value_area",0,1e4).name("density.value_area").onChange(function(e){return c.particles.number.density.value_area=e,s.update()}),i.particles.color.addColor(c.particles.color,"value").name("value (single string)").onChange(function(e){return c.particles.color.value=e,s.update()}),i.particles.shape.add(c.particles.shape,"type",["circle","edge","triangle","polygon","star","image"]).name("type").onChange(function(e){return c.particles.shape.type=e,s.update()}),n.shape_polygon.add(c.particles.shape.polygon,"nb_sides",3,12).step(1).name("polygon.nb_sides").onChange(function(e){return c.particles.shape.polygon.nb_sides=e,s.update()}),n.shape_stroke.add(c.particles.shape.stroke,"width",0,20).step(1).name("stroke.width").onChange(function(e){return c.particles.shape.stroke.width=e,s.update()}),n.shape_stroke.addColor(c.particles.shape.stroke,"color").name("stroke.color").onChange(function(e){return c.particles.shape.stroke.color=e,s.update()}),n.shape_image.add(c.particles.shape.image,"src").name("image.src").onChange(function(e){var t;return c.particles.shape.image.src=e,"image"===c.particles.shape.type&&(t=e.substr(e.length-3),"svg"===t&&"svg/github.svg"!==e&&alert("Ajax request is necessary for loading SVG files. You can type this example into the 'image.src' input to solve the CORS issue: 'svg/github.svg'")),s.update()}),n.shape_image.add(c.particles.shape.image,"width").name("image.width").onChange(function(e){return c.particles.shape.image.width=e,s.update()}),n.shape_image.add(c.particles.shape.image,"height").name("image.height").onChange(function(e){return c.particles.shape.image.height=e,s.update()}),i.particles.size.add(c.tmp.obj,"size_value",0,500).name("value").onChange(function(e){return c.tmp.obj.size_value=e,s.update()}),i.particles.size.add(c.particles.size,"random").name("random").onChange(function(e){return c.particles.size.random=e,s.update()}),n.size_anim.add(c.particles.size.anim,"enable").name("anim.enable").onChange(function(e){return c.particles.size.anim.enable=e,s.update()}),n.size_anim.add(c.tmp.obj,"size_anim_speed",0,300).name("anim.speed").onChange(function(e){return c.tmp.obj.size_anim_speed=e,s.update()}),n.size_anim.add(c.particles.size.anim,"size_min",0,100).name("anim.size_min").onChange(function(e){return c.particles.size.anim.size_min=e,s.update()}),n.size_anim.add(c.particles.size.anim,"sync").name("anim.sync").onChange(function(e){return c.particles.size.anim.sync=e,s.update()}),i.particles.opacity.add(c.particles.opacity,"value",0,1).name("value").onChange(function(e){return c.particles.opacity.value=e,s.update()}),i.particles.opacity.add(c.particles.opacity,"random").name("random").onChange(function(e){return c.particles.opacity.random=e,s.update()}),n.opacity_anim.add(c.particles.opacity.anim,"enable").name("anim.enable").onChange(function(e){return c.particles.opacity.anim.enable=e,s.update()}),n.opacity_anim.add(c.particles.opacity.anim,"speed",0,10).name("anim.speed").onChange(function(e){return c.particles.opacity.anim.speed=e,s.update()}),n.opacity_anim.add(c.particles.opacity.anim,"opacity_min",0,1).name("anim.opacity_min").onChange(function(e){return c.particles.opacity.anim.opacity_min=e,s.update()}),n.opacity_anim.add(c.particles.opacity.anim,"sync").name("anim.sync").onChange(function(e){return c.particles.opacity.anim.sync=e,s.update()}),i.particles.line_linked.add(c.particles.line_linked,"enable").name("enable_auto").onChange(function(e){return c.particles.line_linked.enable=e,s.update()}),i.particles.line_linked.add(c.tmp.obj,"line_linked_distance",0,2e3).name("distance").onChange(function(e){return c.tmp.obj.line_linked_distance=e,s.update()}),i.particles.line_linked.addColor(c.particles.line_linked,"color").name("color").onChange(function(e){return c.particles.line_linked.color=e,s.update()}),i.particles.line_linked.add(c.particles.line_linked,"opacity",0,1).name("opacity").onChange(function(e){return c.particles.line_linked.opacity=e,s.update()}),i.particles.line_linked.add(c.tmp.obj,"line_linked_width",0,20).name("width").onChange(function(e){return c.tmp.obj.line_linked_width=e,s.update()}),i.particles.move.add(c.particles.move,"enable").name("enable").onChange(function(e){return c.particles.move.enable=e,s.update()}),i.particles.move.add(c.particles.move,"direction",["none","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"]).name("direction").onChange(function(e){return c.particles.move.direction=e,s.update()}),i.particles.move.add(c.particles.move,"random").name("random").onChange(function(e){return c.particles.move.random=e,s.update()}),i.particles.move.add(c.particles.move,"straight").name("straight").onChange(function(e){return c.particles.move.straight=e,s.update()}),i.particles.move.add(c.tmp.obj,"move_speed",0,200).name("speed").onChange(function(e){return c.tmp.obj.move_speed=e,s.update()}),i.particles.move.add(c.particles.move,"out_mode",["out","bounce"]).name("out_mode").onChange(function(e){return c.particles.move.out_mode=e,s.update()}),i.particles.move.add(c.particles.move.attract,"enable").name("attract.enable").onChange(function(e){return c.particles.move.attract.enable=e,s.update()}),i.particles.move.add(c.particles.move.attract,"rotateX",0,1e4).name("attract.rotateX").onChange(function(e){return c.particles.move.attract.rotateX=e,s.update()}),i.particles.move.add(c.particles.move.attract,"rotateY",0,1e4).name("attract.rotateY").onChange(function(e){return c.particles.move.attract.rotateY=e,s.update()}),r.interactivity.add(c.interactivity,"detect_on",["window","canvas"]).name("detect_on").onChange(function(e){return c.interactivity.detect_on=e,s.update()}),i.interactivity.events_onhover.add(c.interactivity.events.onhover,"enable").name("enable").onChange(function(e){return c.interactivity.events.onhover.enable=e,s.update()}),i.interactivity.events_onhover.add(c.interactivity.events.onhover,"mode",["grab","bubble","repulse"]).name("mode").onChange(function(e){return c.interactivity.events.onhover.mode=e,s.update()}),i.interactivity.events_onclick.add(c.interactivity.events.onclick,"enable").name("enable").onChange(function(e){return c.interactivity.events.onclick.enable=e,s.update()}),i.interactivity.events_onclick.add(c.interactivity.events.onclick,"mode",["push","remove","bubble","repulse"]).name("mode").onChange(function(e){return c.interactivity.events.onclick.mode=e,s.update()}),a.grab.add(c.tmp.obj,"mode_grab_distance",0,1500).name("distance").onChange(function(e){return c.tmp.obj.mode_grab_distance=e,s.update()}),o.grab_linelinked.add(c.interactivity.modes.grab.line_linked,"opacity",0,1).name("opacity").onChange(function(e){return c.interactivity.modes.grab.line_linked.opacity=e,s.update()}),a.bubble.add(c.tmp.obj,"mode_bubble_distance",0,1500).name("distance").onChange(function(e){return c.tmp.obj.mode_bubble_distance=e,s.update()}),a.bubble.add(c.tmp.obj,"mode_bubble_size",0,500).name("size").onChange(function(e){return c.tmp.obj.mode_bubble_size=e,s.update()}),a.bubble.add(c.interactivity.modes.bubble,"opacity",0,1).name("opacity").onChange(function(e){return c.interactivity.modes.bubble.opacity=e,s.update()}),a.bubble.add(c.interactivity.modes.bubble,"duration",0,10).name("duration (sec)").onChange(function(e){return c.interactivity.modes.bubble.duration=e,s.update()}),a.repulse.add(c.tmp.obj,"mode_repulse_distance",0,1e3).name("distance").onChange(function(e){return c.tmp.obj.mode_repulse_distance=e,s.update()})})},Z={webcamParticle:V,particlesJsGui:N},G={props:["video"],data:function(){return{opacity:this.video.opacity}},components:{RangeSlider:O.a},methods:{updateOpacity:function(e){this.$store.dispatch("updateOpacity",{video:this.video,opacity:e})},removeDisplayingVideo:function(){this.$store.dispatch("removeDisplayingVideo",this.video)}},mounted:function(){this.video.gui&&Z[this.video.gui](this.video.config,this.$store)}},U=G,W=(i("GCAn"),Object(c["a"])(U,C,D,!1,null,null,null)),$=W.exports,Y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"thumb",style:e.elStyle},[i("div",{ref:"wrapper",staticClass:"thumb_wrapper",style:e.wrapperStyle},[i("div",{ref:"scope",staticClass:"thumb_scope",style:e.scopeStyle})]),i("div",{ref:"rectWrapper",staticClass:"rect_wrapper",style:e.rectWrapperStyle}),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowDetectorMessage,expression:"isShowDetectorMessage"}],staticClass:"detector"},[e.isReady?i("p",{staticClass:"done"},[e._v("Click to detect!")]):i("p",{staticClass:"progress"},[e._v("Loading model...")])])])},q=[],H=i("xmWZ"),X=i("3Aqn"),J=i("0yhX"),K=i("EdlT"),B=i("oDws"),Q=i("pEvf"),ee=i("qpph"),te=i("1OQb"),ie=i.n(te),ne=function(){function e(t,i){var n=this;Object(H["a"])(this,e),this.webcam=t,this.video=t.webcamElement,this.wrapper=i,this.size=Math.min(this.video.width,this.video.height),this.diff=(this.video.width-this.size)/2,I?(this.promise=Promise.resolve(),this.isReady=!0):this.promise=Object(te["downloadModel"])().then(function(e){I=e,n.isReady=!0})}return Object(ee["a"])(e,[{key:"detect",value:function(){var e=Object(z["a"])(regeneratorRuntime.mark(function e(){var t,i,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.isReady){e.next=2;break}return e.abrupt("return");case 2:return this.reset(),t=this.webcam.capture(),e.next=6,ie()(t,I);case 6:i=e.sent,i.forEach(function(e){var t=e.top,i=e.left,a=e.bottom,o=e.right,r=e.classProb,s=e.className;"person"===s&&(n.posList.push([t/n.size,n.convert(i),a/n.size,n.convert(o)]),n.drawRect(i,t,o-i,a-t,"".concat(Math.round(100*r),"%"),n.posList.length>4?"blue":"red"))});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"convert",value:function(e){return(e+this.diff)/this.video.width}},{key:"drawRect",value:function(e,t,i,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"red",r=document.createElement("div");r.classList.add("rect"),"blue"===o&&r.classList.add("o-blue"),r.style.cssText="top: ".concat(t,"px; left: ").concat(e,"px; width: ").concat(i,"px; height: ").concat(n,"px;");var s=document.createElement("div");s.classList.add("label"),s.innerText=a,r.appendChild(s),this.wrapper.appendChild(r)}},{key:"clearRects",value:function(){var e=document.getElementsByClassName("rect");while(e[0])e[0].parentNode.removeChild(e[0])}},{key:"reset",value:function(){this.clearRects(),this.posList=[]}}]),e}(),ae=416,oe=1,re=function(e){function t(e,i,n){var a;return Object(H["a"])(this,t),a=Object(J["a"])(this,Object(K["a"])(t).call(this,e,i)),["videoDevices","audioDevices","videoSource","audioSource","smartphone"].forEach(function(e){a[e]=n[e]}),a}return Object(X["a"])(t,e),t}(Q["a"]),se={data:function(){return{isShow:!1,isShowDetectorMessage:!1,isReady:!1,video:{videoWidth:1,videoHeight:1},videoZoom:oe,scopePos:{width:0,height:0,x:0,y:0},windowSize:{width:1,height:1},maxSize:{width:1,height:1}}},computed:{elStyle:function(){return{height:ae+"px"}},wrapperSize:function(){return this.containSize({width:this.video.videoWidth,height:this.video.videoHeight},this.maxSize)},wrapperStyle:function(){var e=this.wrapperSize;return{width:e.width+"px",height:e.height+"px"}},scopeSize:function(){var e=this.containSize(this.windowSize,this.wrapperSize),t=1/this.videoZoom;return{width:e.width*t,height:e.height*t}},scopeStyle:function(){var e=this.scopeSize;return{width:e.width+"px",height:e.height+"px",top:this.scopePos.y+"px",left:this.scopePos.x+"px"}},rectWrapperStyle:function(){return{width:ae+"px",height:ae+"px"}}},methods:{containSize:function(e,t){var i,n,a=e.width/e.height,o=t.width/t.height;return a>=o?(i=t.width,n=e.height*(t.width/e.width)):(n=t.height,i=e.width*(t.height/e.height)),{width:i,height:n}}},mounted:function(){var e=this;E["a"].on("receive-media",function(){var t=Object(z["a"])(regeneratorRuntime.mark(function t(i,n){var a,o,r,s,c,d,u,l,p,h,m,f,v,g,b,y,w,_,k,S,C,D,j,O,V;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return y=function(){return y=Object(z["a"])(regeneratorRuntime.mark(function e(t,i){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:i=i||this.property,e.t0=i,e.next="video"===e.t0?4:"audio"===e.t0?13:"videoZoom"===e.t0?15:"thumb"===e.t0?24:"detector"===e.t0?26:"detect"===e.t0?37:41;break;case 4:return e.next=6,a({video:t});case 6:return E["a"].send("dispatch-media","detect",k()),e.t1=E["a"],e.next=10,_();case 10:return e.t2=e.sent,e.t1.send.call(e.t1,"dispatch-media","detect",e.t2),e.abrupt("break",41);case 13:return a({audio:t}),e.abrupt("break",41);case 15:return n=g.scopeSize.width,o=g.scopeSize.height,D=g.scopePos,O=g.scopeSize,g.videoZoom=t,D.x+=(n-O.width)/2,D.y+=(o-O.height)/2,C?C=!1:V(),e.abrupt("break",41);case 24:return g.isShow=t,e.abrupt("break",41);case 26:if(e.t3=E["a"],!t){e.next=33;break}return e.next=30,w();case 30:e.t4=e.sent,e.next=34;break;case 33:e.t4=k();case 34:return e.t5=e.t4,e.t3.send.call(e.t3,"dispatch-media","detect",e.t5),e.abrupt("break",41);case 37:return e.next=39,_();case 39:return t=e.sent,e.abrupt("break",41);case 41:E["a"].send("dispatch-media",i,t);case 42:case"end":return e.stop()}},e,this)})),y.apply(this,arguments)},b=function(e,t){return y.apply(this,arguments)},a=function(){var t=Object(z["a"])(regeneratorRuntime.mark(function t(i){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o.getUserMedia(i);case 2:e.video.videoWidth>1&&e.$refs.wrapper.removeChild(e.video),e.video=o.currentVideo,e.video.classList.add("thumb_video"),e.$refs.wrapper.appendChild(e.video),e.video.play();case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),o=new re(x["o"],x["k"],n),t.next=6,a();case 6:r=P,s=r.preset,c=new A["a"].GUI({load:r,preset:s}),d=r.remembered[s][0],u=c.addFolder("video"),u.open(),d.video=o.videoSource,l=u.add(d,"video",o.videoDevices).onChange(b),Object.keys(o.videoDevices).some(function(e){return d.video===o.videoDevices[e]})||l.setValue(Object(B["b"])(o.videoDevices)),p=[x["h"],x["f"]],u.add.apply(u,[d,"videoZoom"].concat(p)).onChange(b).listen(),h=[0,1],u.add.apply(u,[d,"videoAlpha"].concat(h)).onChange(b).listen(),d.thumb=!0,u.add(d,"thumb").onChange(b),e.isShow=d.thumb,m=u.addFolder("Detector"),m.open(),m.add(d,"detector").onChange(b),d.detect=function(){},m.add(d,"detect").onChange(b),f=c.addFolder("audio"),f.open(),f.add(d,"inputAudio").onChange(b).listen(),d.audio=o.audioSource,v=f.add(d,"audio",o.audioDevices).onChange(b),Object.keys(o.audioDevices).some(function(e){return d.audio===o.audioDevices[e]})||v.setValue(Object(B["b"])(o.audioDevices)),g=e,w=function(){var t=Object(z["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.isShowDetectorMessage=!0,k(),e.detector=new ne(o.webcam,e.$refs.rectWrapper),t.next=5,e.detector.promise;case 5:return e.isReady=!0,t.abrupt("return",_());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),_=function(){var t=Object(z["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(d.detector&&e.detector){t.next=2;break}return t.abrupt("return",[]);case 2:return t.next=4,e.detector.detect();case 4:return t.abrupt("return",e.detector.posList);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),k=function(){return e.detector?(e.detector.reset(),e.isReady=!1,e.isShowDetectorMessage=!1,e.detector.posList):[]},["videoZoom","videoAlpha","inputAudio"].forEach(function(t){e.$store.watch(e.$store.getters[t],function(e){d[t]=e,b(e,t)})}),S=!1,C=!1,V=function(t,i){D=e.scopePos,j=e.wrapperSize,O=e.scopeSize,void 0===t&&(t=D.x+O.width/2),void 0===i&&(i=D.y+O.height/2),D.x=Object(B["a"])(t-O.width/2,0,j.width-O.width),D.y=Object(B["a"])(i-O.height/2,0,j.height-O.height),E["a"].send("dispatch-media","zoomPos",[(D.x+O.width/2)/j.width*2-1,(D.y+O.height/2)/j.height*2-1])},e.$refs.wrapper.addEventListener("pointerdown",function(e){S=!0,V(e.offsetX,e.offsetY)}),e.$refs.wrapper.addEventListener("pointermove",function(e){S&&V(e.offsetX,e.offsetY)}),e.$refs.wrapper.addEventListener("pointerup",function(e){S=!1}),e.$refs.wrapper.addEventListener("wheel",function(e){C=!0,d.videoZoom=Object(B["a"])(d.videoZoom-.001*e.deltaY,x["h"],x["f"]),V(e.offsetX,e.offsetY),b(d.videoZoom,"videoZoom")}),setTimeout(function(){e.maxSize.width=e.$el.clientWidth,e.maxSize.height=ae,j=e.wrapperSize,O=e.scopeSize,e.scopePos={y:(j.height-O.height)/2,x:(j.width-O.width)/2}},0);case 46:case"end":return t.stop()}},t,this)}));return function(e,i){return t.apply(this,arguments)}}()),E["a"].on("receive-window",function(t,i){e.windowSize=i,e.scopePos={y:(e.wrapperSize.height-e.scopeSize.height)/2,x:(e.wrapperSize.width-e.scopeSize.width)/2}})}},ce=se,de=(i("eb3R"),Object(c["a"])(ce,Y,q,!1,null,null,null)),ue=de.exports,le=[],pe={name:"control",components:{draggable:k.a,VjDisplayingVideo:$,VjThumb:ue},computed:{visualWebcam:function(){return this.$store.state.Video.visualWebcam},visualStock:{get:function(){return this.$store.state.Video.visualStock},set:function(e){this.$store.dispatch("updateVideos",e)}},displayingVideos:{get:function(){return this.$store.state.Video.displayingVideos},set:function(e){le=e}}},methods:Object(w["a"])({changeDisplayingVideos:function(e){this.$store.dispatch("updateDisplayingVideos",le),this.$store.dispatch("changeDisplayingVideos",e)}},Object(S["b"])(["refresh"])),mounted:function(){E["a"].openVisual()}},he=pe,me=(i("Kolu"),Object(c["a"])(he,b,y,!1,null,null,null)),fe=me.exports,ve=i("rs1L");n["default"].use(p["a"]);var ge=Object(ve["a"])(function(e){return i("pEns")("./".concat(e,".vue"))}),be=new p["a"]({mode:"history",base:"/layered-vj/",routes:[{path:"/",component:ge,children:[{path:"/",name:"index",component:g,meta:{title:"Layered VJ"}},{path:"/control",name:"control",component:fe,meta:{title:"Layered VJ - Control"}}]}]});be.beforeEach(function(e,t,i){e.meta&&e.meta.title&&(document.title=e.meta.title),i()});var ye=be,we=i("F5Xk");n["default"].use(S["a"]);var _e=new S["a"].Store({modules:we["default"],strict:!1});n["default"].config.productionTip=!1,n["default"].use(o.a),new n["default"]({router:ye,store:_e,render:function(e){return e(l)}}).$mount("#app")},aX4y:function(e,t,i){},boi5:function(e,t,i){},eb3R:function(e,t,i){"use strict";var n=i("aX4y"),a=i.n(n);a.a},"kpC+":function(e){e.exports={particles:{number:{value:80,density:{enable:!0,value_area:800}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:35.51164387345227,random:!0,anim:{enable:!0,speed:134.26573426573427,size_min:6.393606393606394,sync:!1}},line_linked:{enable:!0,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:28.861417095579412,direction:"top-right",random:!0,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:.639515587180546}},bubble:{distance:400,size:40,duration:2,opacity:.21926084732136317,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}}}},laGm:function(e,t,i){},nNx0:function(e,t,i){"use strict";var n=i("boi5"),a=i.n(n);a.a},nZj0:function(e,t,i){"use strict";i.r(t),t["default"]={state:{videoZoom:null,videoAlpha:null,inputAudio:null},mutations:{UPDATE_ZOOM:function(e,t){e.videoZoom=t},UPDATE_ALPHA:function(e,t){e.videoAlpha=t},UPDATE_INPUT_AUDIO:function(e,t){e.inputAudio=t}},getters:{videoZoom:function(e){return function(){return e.videoZoom}},videoAlpha:function(e){return function(){return e.videoAlpha}},inputAudio:function(e){return function(){return e.inputAudio}}}}},oDws:function(e,t,i){"use strict";i.d(t,"b",function(){return n}),i.d(t,"a",function(){return a});i("rGqo"),i("hhXQ");function n(e){return Object.values(e)[0]}function a(e,t,i){return Math.min(i,Math.max(t,e))}},pEns:function(e,t,i){var n={"./default.vue":["ez0Y",1]};function a(e){var t=n[e];return t?i.e(t[1]).then(function(){var e=t[0];return i(e)}):Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}a.keys=function(){return Object.keys(n)},a.id="pEns",e.exports=a},pEvf:function(e,t,i){"use strict";i("NO8f"),i("91GP"),i("pIFo"),i("rGqo");var n=i("xmWZ"),a=i("qpph"),o=i("oDws"),r=(i("ls82"),i("MECJ")),s=i("zhpf"),c=function(){function e(t){Object(n["a"])(this,e),this.webcamElement=t}return Object(a["a"])(e,[{key:"capture",value:function(){var e=this;return s["tidy"](function(){var t=s["fromPixels"](e.webcamElement),i=e.cropImage(t),n=i.expandDims(0);return n.toFloat().div(s["scalar"](255))})}},{key:"cropImage",value:function(e){var t=Math.min(e.shape[0],e.shape[1]),i=e.shape[0]/2,n=i-t/2,a=e.shape[1]/2,o=a-t/2;return e.slice([n,o,0],[t,t,3])}},{key:"adjustVideoSize",value:function(e,t){var i=e/t;e>=t?this.webcamElement.width=i*this.webcamElement.height:e<t&&(this.webcamElement.height=this.webcamElement.width/i)}},{key:"setup",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){e.next=9;break}return e.next=3,navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"environment"}});case 3:return t=e.sent,window.stream=t,this.webcamElement.srcObject=t,e.abrupt("return",new Promise(function(e){i.webcamElement.onloadedmetadata=function(){i.adjustVideoSize(i.webcamElement.videoWidth,i.webcamElement.videoHeight),e()}}));case 9:throw new Error("No webcam found!");case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}();i.d(t,"a",function(){return d});var d=function(){function e(t,i){Object(n["a"])(this,e),this.size=t,this.pointResolution=i,this.video=document.createElement("video"),this.video.width=this.size,this.video.height=this.size,this.video.loop=!0,this.video.muted=!0,this.currentVideo=this.video,this.videoDevices={},this.videoFiles={},this.audioDevices={},this.audioCtx=new AudioContext,this.initWebcam(),this.loadSmartphone()}return Object(a["a"])(e,[{key:"initWebcam",value:function(){this.webcam=new c(this.currentVideo),this.webcam.adjustVideoSize(this.currentVideo.videoWidth||this.currentVideo.naturalWidth,this.currentVideo.videoHeight||this.currentVideo.naturalHeight)}},{key:"initVideoFiles",value:function(){var e=this;["live-1-2"].forEach(function(t){var i="file:".concat(t),n=document.createElement("video");n.src="/src/visual/assets/video/".concat(t,".mp4"),n.width=e.size,n.height=e.size,n.loop=!0,n.muted=!0,e.videoDevices["File: ".concat(t)]=i,e.videoFiles[i]=n})}},{key:"loadSmartphone",value:function(){var e=document.getElementById("smartphone");e&&(this.smartphone=e,this.smartphone.width=this.size,this.smartphone.height=this.size,this.videoDevices["Smartphone"]="smartphone")}},{key:"enumerateDevices",value:function(){var e=this;return navigator.mediaDevices.enumerateDevices().then(function(t){var i={},n={};t.forEach(function(e){switch(e.kind){case"videoinput":i[e.label.replace(/ \(.+?\)/,"")]=e.deviceId;break;case"audioinput":n[e.label.replace(/ \(.+?\)/,"")]=e.deviceId;break}}),e.videoSource=i["HD Pro Webcam C920"]||Object(o["b"])(i),e.audioSource=n["HD Pro Webcam C920"]||Object(o["b"])(n),Object.assign(e.videoDevices,i),Object.assign(e.audioDevices,n)})}},{key:"getUserMedia",value:function(){var e,t,i=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return/^file:/.test(n.video)?e=this.videoFiles[n.video]:"smartphone"===n.video&&(t=this.smartphone),this.videoSource=n.video||this.videoSource,this.audioSource=n.audio||this.audioSource,new Promise(function(n){navigator.mediaDevices.getUserMedia({audio:{deviceId:i.audioSource},video:{deviceId:i.videoSource}}).then(function(a){e?i.currentVideo=e:t?i.currentVideo=t:(i.video.srcObject=a,i.currentVideo=i.video);var o=i.audioCtx.createMediaStreamSource(a);i.analyser=i.audioCtx.createAnalyser(),i.analyser.fftSize=i.pointResolution,o.connect(i.analyser),i.array=new Uint8Array(i.analyser.fftSize);var r=function e(){i.currentVideo.removeEventListener("canplay",e),i.currentVideo.play(),i.initWebcam(),n(i.currentVideo)};t?n(i.currentVideo):i.currentVideo.readyState>=HTMLMediaElement.HAVE_FUTURE_DATA?r():i.currentVideo.addEventListener("canplay",r)}).catch(function(e){console.error(e)})})}},{key:"getVolume",value:function(){var e=0;this.analyser.getByteTimeDomainData(this.array);for(var t=0;t<this.analyser.fftSize;++t)e=Math.max(this.array[t],e);return e/255*2}}]),e}()},sGyF:function(e){e.exports=[{title:"Infinite Tubes - Particles",type:"infiniteTubes",demo:"particles",thumbnail:"/assets/thumbnail/infiniteTube2.png",copyright:"Louis Hoebregts",copyrightLink:"https://tympanus.net/codrops/2017/05/09/infinite-tubes-with-three-js/"},{title:"Infinite Tubes - Star Wars",type:"infiniteTubes",demo:"starWars",thumbnail:"/assets/thumbnail/infiniteTube3.jpg",copyright:"Louis Hoebregts",copyrightLink:"https://tympanus.net/codrops/2017/05/09/infinite-tubes-with-three-js/"},{title:"Infinite Tubes - Triangle",type:"infiniteTubes",demo:"triangle",thumbnail:"/assets/thumbnail/infiniteTube5.jpg",copyright:"Louis Hoebregts",copyrightLink:"https://tympanus.net/codrops/2017/05/09/infinite-tubes-with-three-js/"},{title:"Two.js: Dynamic Text",type:"dynamicText",thumbnail:"/assets/thumbnail/text.gif",copyright:"jonobr1",copyrightLink:"https://two.js.org/"}]},sJXk:function(e){e.exports={preset:"Default",remembered:{Default:{0:{animation:"none",mode:0,pointShape:1,pointSize:5,lineShape:"line",deformation:0,autoDeformation:!1,deformationProgress:0,bgColor:0,zPosition:2.5,pointer:!1,accel:!1,rotation:!1,capture:!1,stopMotion:!1,particleAlpha:0,inputAudio:!1,audio:null,detector:!1,effect:"none",effect2:"none",lastEffect:"none",custom:.7,customSwitch:!1,video:null,videoZoom:1,videoAlpha:1}},Particle:{0:{animation:"normal",mode:0,pointShape:1,pointSize:5,lineShape:"line",deformation:0,autoDeformation:!1,deformationProgress:0,bgColor:0,zPosition:2.5,pointer:!1,accel:!1,rotation:!1,capture:!1,stopMotion:!1,particleAlpha:1,inputAudio:!1,audio:null,detector:!1,effect:"none",effect2:"none",lastEffect:"none",custom:.7,customSwitch:!1,video:null,videoZoom:1,videoAlpha:0}},Pop:{0:{animation:"pop",mode:0,pointShape:1,pointSize:5,lineShape:"line",deformation:0,autoDeformation:!1,deformationProgress:0,bgColor:1,zPosition:2.5,pointer:!0,accel:!1,rotation:!1,capture:!1,stopMotion:!1,particleAlpha:1,inputAudio:!1,audio:null,detector:!1,effect:"toon",effect2:"none",lastEffect:"none",custom:.7,customSwitch:!1,video:null,videoZoom:1,videoAlpha:0}},Rock:{0:{animation:"warp",mode:3,pointShape:1,pointSize:5,lineShape:"line",deformation:0,autoDeformation:!1,deformationProgress:0,bgColor:0,zPosition:2.5,pointer:!1,accel:!1,rotation:!1,capture:!1,stopMotion:!1,particleAlpha:0,inputAudio:!1,audio:null,detector:!1,effect:"none",effect2:"rock",lastEffect:"none",custom:.7,customSwitch:!1,video:null,videoZoom:1,videoAlpha:1}},Glitch:{0:{animation:"warp",mode:3,pointShape:1,pointSize:5,lineShape:"line",deformation:0,autoDeformation:!1,deformationProgress:0,bgColor:0,zPosition:2.5,pointer:!1,accel:!1,rotation:!1,capture:!1,stopMotion:!1,particleAlpha:0,inputAudio:!0,audio:null,detector:!1,effect:"toon",effect2:"glitch",lastEffect:"none",custom:.7,customSwitch:!1,video:null,videoZoom:1,videoAlpha:1}},Warp:{0:{animation:"warp",mode:3,pointShape:1,pointSize:5,lineShape:"line",deformation:0,autoDeformation:!1,deformationProgress:0,bgColor:0,zPosition:2.5,pointer:!1,accel:!1,rotation:!1,capture:!1,stopMotion:!1,particleAlpha:1,inputAudio:!1,audio:null,detector:!1,effect:"none",effect2:"none",lastEffect:"none",custom:.7,customSwitch:!1,video:null,videoZoom:1,videoAlpha:.5}},Flash:{0:{animation:"warp",mode:3,pointShape:1,pointSize:5,lineShape:"line",deformation:0,autoDeformation:!1,deformationProgress:0,bgColor:0,zPosition:2.5,pointer:!1,accel:!1,rotation:!1,capture:!1,stopMotion:!1,particleAlpha:0,inputAudio:!1,audio:null,detector:!1,effect:"glitch",effect2:"shake",lastEffect:"flash",custom:.7,customSwitch:!0,video:null,videoZoom:1,videoAlpha:.9}},Heaven:{0:{animation:"warp",mode:3,pointShape:1,pointSize:5,lineShape:"line",deformation:0,autoDeformation:!1,deformationProgress:0,bgColor:0,zPosition:2.5,pointer:!1,accel:!1,rotation:!1,capture:!1,stopMotion:!1,particleAlpha:0,inputAudio:!0,audio:null,detector:!1,effect:"toon",effect2:"dotScreen",lastEffect:"rock",custom:.7,customSwitch:!0,video:null,videoZoom:1,videoAlpha:1}},Toon:{0:{animation:"none",mode:0,pointShape:1,pointSize:5,lineShape:"line",deformation:0,autoDeformation:!1,deformationProgress:0,bgColor:1,zPosition:2.5,pointer:!1,accel:!1,rotation:!1,capture:!1,stopMotion:!1,particleAlpha:0,inputAudio:!1,audio:null,detector:!1,effect:"none",effect2:"shake",lastEffect:"toon",custom:.7,customSwitch:!1,video:null,videoZoom:1,videoAlpha:1}},Water:{0:{animation:"pop",mode:0,pointShape:1,pointSize:2,lineShape:"line",deformation:0,autoDeformation:!1,deformationProgress:0,bgColor:1,zPosition:2.5,pointer:!1,accel:!1,rotation:!1,capture:!1,stopMotion:!1,particleAlpha:0,inputAudio:!1,audio:null,detector:!1,effect:"toon",effect2:"shake",lastEffect:"water",custom:.5,customSwitch:!1,video:null,videoZoom:1,videoAlpha:1}},Floating:{0:{animation:"pop",mode:0,pointShape:1,pointSize:2,lineShape:"line",deformation:0,autoDeformation:!1,deformationProgress:0,bgColor:1,zPosition:2.5,pointer:!1,accel:!1,rotation:!1,capture:!1,stopMotion:!1,particleAlpha:0,inputAudio:!1,audio:null,detector:!1,effect:"rock",effect2:"none",lastEffect:"water",custom:.5,customSwitch:!1,video:null,videoZoom:1,videoAlpha:1}},Fank:{0:{animation:"none",mode:0,pointShape:1,pointSize:5,lineShape:"line",deformation:0,autoDeformation:!1,deformationProgress:0,bgColor:0,zPosition:2.5,pointer:!1,accel:!1,rotation:!1,capture:!1,stopMotion:!1,particleAlpha:0,inputAudio:!0,audio:null,detector:!1,effect:"toon",effect2:"rock",lastEffect:"flash",custom:.7,customSwitch:!1,video:null,videoZoom:1,videoAlpha:1}}},closed:!1,folders:{"Post Effect":{preset:"Default",closed:!1,folders:{}},Particle:{preset:"Default",closed:!1,folders:{"gl.POINTS":{preset:"Default",closed:!1,folders:{}},"gl.LINE_STRIP":{preset:"Default",closed:!0,folders:{}},canvas:{preset:"Default",closed:!1,folders:{}},video:{preset:"Default",closed:!1,folders:{}},audio:{preset:"Default",closed:!1,folders:{}}}}}}},t7pz:function(e,t,i){"use strict";i.d(t,"o",function(){return n}),i.d(t,"k",function(){return a}),i.d(t,"l",function(){return o}),i.d(t,"a",function(){return r}),i.d(t,"i",function(){return s}),i.d(t,"g",function(){return c}),i.d(t,"h",function(){return d}),i.d(t,"f",function(){return u}),i.d(t,"d",function(){return l}),i.d(t,"b",function(){return p}),i.d(t,"m",function(){return h}),i.d(t,"c",function(){return m}),i.d(t,"j",function(){return f}),i.d(t,"e",function(){return v}),i.d(t,"n",function(){return g});var n=416,a=256,o=16,r=128,s=2,c=10,d=1,u=3,l=2,p=3,h=["none","binary","rock","toon","water","glitch","ykobGlitch","dot","dotScreen","shake","flash"],m=[{key:"video"},{key:"circle"}],f=0,v=1,g=3},wFD3:function(e,t,i){"use strict";var n=i("laGm"),a=i.n(n);a.a}});