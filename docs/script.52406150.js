parcelRequire=function(e,r,n){var t="function"==typeof parcelRequire&&parcelRequire,i="function"==typeof require&&require;function u(n,o){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!o&&f)return f(n,!0);if(t)return t(n,!0);if(i&&"string"==typeof n)return i(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}a.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,a,l,l.exports)}return r[n].exports;function a(e){return u(a.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=t;for(var o=0;o<n.length;o++)u(n[o]);return u}({6:[function(require,module,exports) {
"use strict";function t(){this.create=function(){return new Float32Array(16)},this.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},this.multiply=function(t,r,n){var e=t[0],a=t[1],s=t[2],i=t[3],h=t[4],u=t[5],o=t[6],c=t[7],f=t[8],M=t[9],p=t[10],v=t[11],l=t[12],y=t[13],A=t[14],w=t[15],I=r[0],q=r[1],d=r[2],x=r[3],P=r[4],m=r[5],b=r[6],V=r[7],g=r[8],F=r[9],_=r[10],j=r[11],k=r[12],z=r[13],O=r[14],B=r[15];return n[0]=I*e+q*h+d*f+x*l,n[1]=I*a+q*u+d*M+x*y,n[2]=I*s+q*o+d*p+x*A,n[3]=I*i+q*c+d*v+x*w,n[4]=P*e+m*h+b*f+V*l,n[5]=P*a+m*u+b*M+V*y,n[6]=P*s+m*o+b*p+V*A,n[7]=P*i+m*c+b*v+V*w,n[8]=g*e+F*h+_*f+j*l,n[9]=g*a+F*u+_*M+j*y,n[10]=g*s+F*o+_*p+j*A,n[11]=g*i+F*c+_*v+j*w,n[12]=k*e+z*h+O*f+B*l,n[13]=k*a+z*u+O*M+B*y,n[14]=k*s+z*o+O*p+B*A,n[15]=k*i+z*c+O*v+B*w,n},this.scale=function(t,r,n){return n[0]=t[0]*r[0],n[1]=t[1]*r[0],n[2]=t[2]*r[0],n[3]=t[3]*r[0],n[4]=t[4]*r[1],n[5]=t[5]*r[1],n[6]=t[6]*r[1],n[7]=t[7]*r[1],n[8]=t[8]*r[2],n[9]=t[9]*r[2],n[10]=t[10]*r[2],n[11]=t[11]*r[2],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n},this.translate=function(t,r,n){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[0]*r[0]+t[4]*r[1]+t[8]*r[2]+t[12],n[13]=t[1]*r[0]+t[5]*r[1]+t[9]*r[2]+t[13],n[14]=t[2]*r[0]+t[6]*r[1]+t[10]*r[2]+t[14],n[15]=t[3]*r[0]+t[7]*r[1]+t[11]*r[2]+t[15],n},this.rotate=function(t,r,n,e){var a=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);if(!a)return null;var s=n[0],i=n[1],h=n[2];1!=a&&(s*=a=1/a,i*=a,h*=a);var u=Math.sin(r),o=Math.cos(r),c=1-o,f=t[0],M=t[1],p=t[2],v=t[3],l=t[4],y=t[5],A=t[6],w=t[7],I=t[8],q=t[9],d=t[10],x=t[11],P=s*s*c+o,m=i*s*c+h*u,b=h*s*c-i*u,V=s*i*c-h*u,g=i*i*c+o,F=h*i*c+s*u,_=s*h*c+i*u,j=i*h*c-s*u,k=h*h*c+o;return r?t!=e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]):e=t,e[0]=f*P+l*m+I*b,e[1]=M*P+y*m+q*b,e[2]=p*P+A*m+d*b,e[3]=v*P+w*m+x*b,e[4]=f*V+l*g+I*F,e[5]=M*V+y*g+q*F,e[6]=p*V+A*g+d*F,e[7]=v*V+w*g+x*F,e[8]=f*_+l*j+I*k,e[9]=M*_+y*j+q*k,e[10]=p*_+A*j+d*k,e[11]=v*_+w*j+x*k,e},this.lookAt=function(t,r,n,e){var a,s,i,h,u,o,c,f,M,p,v=t[0],l=t[1],y=t[2],A=n[0],w=n[1],I=n[2],q=r[0],d=r[1],x=r[2];return v==q&&l==d&&y==x?this.identity(e):(c=v-r[0],f=l-r[1],M=y-r[2],a=w*(M*=p=1/Math.sqrt(c*c+f*f+M*M))-I*(f*=p),s=I*(c*=p)-A*M,i=A*f-w*c,(p=Math.sqrt(a*a+s*s+i*i))?(a*=p=1/p,s*=p,i*=p):(a=0,s=0,i=0),h=f*i-M*s,u=M*a-c*i,o=c*s-f*a,(p=Math.sqrt(h*h+u*u+o*o))?(h*=p=1/p,u*=p,o*=p):(h=0,u=0,o=0),e[0]=a,e[1]=h,e[2]=c,e[3]=0,e[4]=s,e[5]=u,e[6]=f,e[7]=0,e[8]=i,e[9]=o,e[10]=M,e[11]=0,e[12]=-(a*v+s*l+i*y),e[13]=-(h*v+u*l+o*y),e[14]=-(c*v+f*l+M*y),e[15]=1,e)},this.perspective=function(t,r,n,e,a){var s=n*Math.tan(t*Math.PI/360),i=2*(s*r),h=2*s,u=e-n;return a[0]=2*n/i,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*n/h,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=-(e+n)/u,a[11]=-1,a[12]=0,a[13]=0,a[14]=-e*n*2/u,a[15]=0,a},this.ortho=function(t,r,n,e,a,s,i){var h=r-t,u=n-e,o=s-a;return i[0]=2/h,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2/u,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=-2/o,i[11]=0,i[12]=-(t+r)/h,i[13]=-(n+e)/u,i[14]=-(s+a)/o,i[15]=1,i},this.transpose=function(t,r){return r[0]=t[0],r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=t[1],r[5]=t[5],r[6]=t[9],r[7]=t[13],r[8]=t[2],r[9]=t[6],r[10]=t[10],r[11]=t[14],r[12]=t[3],r[13]=t[7],r[14]=t[11],r[15]=t[15],r},this.inverse=function(t,r){var n=t[0],e=t[1],a=t[2],s=t[3],i=t[4],h=t[5],u=t[6],o=t[7],c=t[8],f=t[9],M=t[10],p=t[11],v=t[12],l=t[13],y=t[14],A=t[15],w=n*h-e*i,I=n*u-a*i,q=n*o-s*i,d=e*u-a*h,x=e*o-s*h,P=a*o-s*u,m=c*l-f*v,b=c*y-M*v,V=c*A-p*v,g=f*y-M*l,F=f*A-p*l,_=M*A-p*y,j=1/(w*_-I*F+q*g+d*V-x*b+P*m);return r[0]=(h*_-u*F+o*g)*j,r[1]=(-e*_+a*F-s*g)*j,r[2]=(l*P-y*x+A*d)*j,r[3]=(-f*P+M*x-p*d)*j,r[4]=(-i*_+u*V-o*b)*j,r[5]=(n*_-a*V+s*b)*j,r[6]=(-v*P+y*q-A*I)*j,r[7]=(c*P-M*q+p*I)*j,r[8]=(i*F-h*V+o*m)*j,r[9]=(-n*F+e*V-s*m)*j,r[10]=(v*x-l*q+A*w)*j,r[11]=(-c*x+f*q-p*w)*j,r[12]=(-i*g+h*b-u*m)*j,r[13]=(n*g-e*b+a*m)*j,r[14]=(-v*d+l*I-y*w)*j,r[15]=(c*d-f*I+M*w)*j,r}}function r(){this.create=function(){return new Float32Array(4)},this.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},this.inverse=function(t,r){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=t[3],r},this.normalize=function(t){var r=t[0],n=t[1],e=t[2],a=t[3],s=Math.sqrt(r*r+n*n+e*e+a*a);return 0===s?(t[0]=0,t[1]=0,t[2]=0,t[3]=0):(s=1/s,t[0]=r*s,t[1]=n*s,t[2]=e*s,t[3]=a*s),t},this.multiply=function(t,r,n){var e=t[0],a=t[1],s=t[2],i=t[3],h=r[0],u=r[1],o=r[2],c=r[3];return n[0]=e*c+i*h+a*o-s*u,n[1]=a*c+i*u+s*h-e*o,n[2]=s*c+i*o+e*u-a*h,n[3]=i*c-e*h-a*u-s*o,n},this.rotate=function(t,r,n){var e=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);if(!e)return null;var a=r[0],s=r[1],i=r[2];1!=e&&(a*=e=1/e,s*=e,i*=e);var h=Math.sin(.5*t);return n[0]=a*h,n[1]=s*h,n[2]=i*h,n[3]=Math.cos(.5*t),n},this.toVecIII=function(t,r,n){var e=this.create(),a=this.create(),s=this.create();return this.inverse(r,s),e[0]=t[0],e[1]=t[1],e[2]=t[2],this.multiply(s,e,a),this.multiply(a,r,s),n[0]=s[0],n[1]=s[1],n[2]=s[2],n},this.toMatIV=function(t,r){var n=t[0],e=t[1],a=t[2],s=t[3],i=n+n,h=e+e,u=a+a,o=n*i,c=n*h,f=n*u,M=e*h,p=e*u,v=a*u,l=s*i,y=s*h,A=s*u;return r[0]=1-(M+v),r[1]=c-A,r[2]=f+y,r[3]=0,r[4]=c+A,r[5]=1-(o+v),r[6]=p-l,r[7]=0,r[8]=f-y,r[9]=p+l,r[10]=1-(o+M),r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},this.slerp=function(t,r,n,e){var a=t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3],s=1-a*a;if(s<=0)e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3];else if(s=Math.sqrt(s),Math.abs(s)<1e-4)e[0]=.5*t[0]+.5*r[0],e[1]=.5*t[1]+.5*r[1],e[2]=.5*t[2]+.5*r[2],e[3]=.5*t[3]+.5*r[3];else{var i=Math.acos(a),h=i*n,u=Math.sin(i-h)/s,o=Math.sin(h)/s;e[0]=t[0]*u+r[0]*o,e[1]=t[1]*u+r[1]*o,e[2]=t[2]*u+r[2]*o,e[3]=t[3]*u+r[3]*o}return e}}function n(t,r,n,e,a){var i,h,u,o=new Array,c=new Array,f=new Array,M=new Array,p=new Array;for(i=0;i<=t;i++){var v=2*Math.PI/t*i,l=Math.cos(v),y=Math.sin(v);for(h=0;h<=r;h++){var A=2*Math.PI/r*h,w=(l*n+e)*Math.cos(A),I=y*n,q=(l*n+e)*Math.sin(A),d=l*Math.cos(A),x=l*Math.sin(A);u=a||s(360/r*h,1,1,1);var P=1/r*h,m=1/t*i+.5;m>1&&(m-=1),m=1-m,o.push(w,I,q),c.push(d,y,x),f.push(u[0],u[1],u[2],u[3]),M.push(P,m)}}for(i=0;i<t;i++)for(h=0;h<r;h++)v=(r+1)*i+h,p.push(v,v+r+1,v+1),p.push(v+r+1,v+r+2,v+1);return{p:o,n:c,c:f,t:M,i:p}}function e(t,r,n,e){var a,i,h,u=new Array,o=new Array,c=new Array,f=new Array,M=new Array;for(a=0;a<=t;a++){var p=Math.PI/t*a,v=Math.cos(p),l=Math.sin(p);for(i=0;i<=r;i++){var y=2*Math.PI/r*i,A=l*n*Math.cos(y),w=v*n,I=l*n*Math.sin(y),q=l*Math.cos(y),d=l*Math.sin(y);h=e||s(360/t*a,1,1,1),u.push(A,w,I),o.push(q,v,d),c.push(h[0],h[1],h[2],h[3]),f.push(1-1/r*i,1/t*a)}}for(p=0,a=0;a<t;a++)for(i=0;i<r;i++)p=(r+1)*a+i,M.push(p,p+1,p+r+2),M.push(p,p+r+2,p+r+1);return{p:u,n:o,c:c,t:f,i:M}}function a(t,r){for(var n,e=.5*t,a=[-e,-e,e,e,-e,e,e,e,e,-e,e,e,-e,-e,-e,-e,e,-e,e,e,-e,e,-e,-e,-e,e,-e,-e,e,e,e,e,e,e,e,-e,-e,-e,-e,e,-e,-e,e,-e,e,-e,-e,e,e,-e,-e,e,e,-e,e,e,e,e,-e,e,-e,-e,-e,-e,-e,e,-e,e,e,-e,e,-e],i=new Array,h=0;h<a.length/3;h++)n=r||s(360/a.length/3*h,1,1,1),i.push(n[0],n[1],n[2],n[3]);return{p:a,n:[-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1],c:i,t:[0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1],i:[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]}}function s(t,r,n,e){if(!(r>1||n>1||e>1)){var a=t%360,s=Math.floor(a/60),i=a/60-s,h=n*(1-r),u=n*(1-r*i),o=n*(1-r*(1-i)),c=new Array;if(!r>0&&!r<0)c.push(n,n,n,e);else{var f=new Array(n,u,h,h,o,n),M=new Array(o,n,n,u,h,h),p=new Array(h,h,o,n,n,u);c.push(f[s],M[s],p[s],e)}return c}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t,exports.qtnIV=r,exports.torus=n,exports.sphere=e,exports.cube=a;
},{}],7:[function(require,module,exports) {
"use strict";function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setGl=t,exports.loadShaderSource=a,exports.createShader=n,exports.createProgram=T,exports.createVbo=R,exports.createIbo=u,exports.createIboInt=f,exports.setAttribute=o,exports.createTexture=_,exports.createFramebuffer=i,exports.createFramebufferFloat=l,exports.getWebGLExtensions=A;var r=void 0;function t(e){r=e}var E=exports.ProgramParameter=function r(t){e(this,r),this.program=t,this.attLocation=[],this.attStride=[],this.uniLocation=[],this.uniType=[]};function a(e,r,t){var E=void 0,a=void 0;function n(n,T){var R=new XMLHttpRequest;R.open("GET",n,!0),R.setRequestHeader("Pragma","no-cache"),R.setRequestHeader("Cache-Control","no-cache"),R.onload=function(){T?E=R.responseText:a=R.responseText,null!=E&&null!=a&&(console.log("loaded",e,r),t({vs:E,fs:a}))},R.send()}n(e,!0),n(r,!1)}function n(e,t){var E=r.createShader(t);return r.shaderSource(E,e),r.compileShader(E),r.getShaderParameter(E,r.COMPILE_STATUS)?E:(alert(r.getShaderInfoLog(E)),null)}function T(e,t){if(null!=e&&null!=t){var E=r.createProgram();return r.attachShader(E,e),r.attachShader(E,t),r.linkProgram(E),r.getProgramParameter(E,r.LINK_STATUS)?(r.useProgram(E),E):(alert(r.getProgramInfoLog(E)),null)}}function R(e){var t=r.createBuffer();return r.bindBuffer(r.ARRAY_BUFFER,t),r.bufferData(r.ARRAY_BUFFER,new Float32Array(e),r.STATIC_DRAW),r.bindBuffer(r.ARRAY_BUFFER,null),t}function u(e){var t=r.createBuffer();return r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t),r.bufferData(r.ELEMENT_ARRAY_BUFFER,new Int16Array(e),r.STATIC_DRAW),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null),t}function f(e){var t=r.createBuffer();return r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t),r.bufferData(r.ELEMENT_ARRAY_BUFFER,new Uint32Array(e),r.STATIC_DRAW),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null),t}function o(e,t,E,a){for(var n in e)r.bindBuffer(r.ARRAY_BUFFER,e[n]),r.enableVertexAttribArray(t[n]),r.vertexAttribPointer(t[n],E[n],r.FLOAT,!1,0,0);null!=a&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,a)}function _(e,t){var E=new Image;E.addEventListener("load",function(){var e=r.createTexture();r.bindTexture(r.TEXTURE_2D,e),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,E),r.generateMipmap(r.TEXTURE_2D),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.REPEAT),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.REPEAT),r.bindTexture(r.TEXTURE_2D,null),t(e)},!1),E.src=e}function i(e,t){var E=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,E);var a=r.createRenderbuffer();r.bindRenderbuffer(r.RENDERBUFFER,a),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_COMPONENT16,e,t),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.RENDERBUFFER,a);var n=r.createTexture();return r.bindTexture(r.TEXTURE_2D,n),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,e,t,0,r.RGBA,r.UNSIGNED_BYTE,null),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,n,0),r.bindTexture(r.TEXTURE_2D,null),r.bindRenderbuffer(r.RENDERBUFFER,null),r.bindFramebuffer(r.FRAMEBUFFER,null),{framebuffer:E,renderbuffer:a,texture:n}}function l(e,t,E){if(null!=e&&(null!=e.textureFloat||null!=e.textureHalfFloat)){var a=null!=e.textureFloat?r.FLOAT:e.textureHalfFloat.HALF_FLOAT_OES,n=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,n);var T=r.createTexture();return r.bindTexture(r.TEXTURE_2D,T),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,t,E,0,r.RGBA,a,null),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,T,0),r.bindTexture(r.TEXTURE_2D,null),r.bindFramebuffer(r.FRAMEBUFFER,null),{framebuffer:n,texture:T}}console.log("float texture not support")}function A(){return{elementIndexUint:r.getExtension("OES_element_index_uint"),textureFloat:r.getExtension("OES_texture_float"),textureHalfFloat:r.getExtension("OES_texture_half_float")}}
},{}],8:[function(require,module,exports) {
"use strict";function e(e){return Object.values(e)[0]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getFirstValue=e;
},{}],9:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,i){for(var t=0;t<i.length;t++){var a=i[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(i,t,a){return t&&e(i.prototype,t),a&&e(i,a),i}}();function i(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}var t=function(){function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;i(this,t),this.video=document.createElement("video"),this.video.width=e,this.video.height=a,this.video.loop=!0,this.video.muted="true",this.toggleThumb(!1),document.body.appendChild(this.video)}return e(t,[{key:"enumerateDevices",value:function(){var e=this;return navigator.mediaDevices.enumerateDevices().then(function(i){e.videoDevices={},e.audioDevices={},i.forEach(function(i){switch(i.kind){case"videoinput":e.videoDevices[i.label.replace(/ \(.+?\)/,"")]=i.deviceId;break;case"audioinput":e.audioDevices[i.label.replace(/ \(.+?\)/,"")]=i.deviceId}})})}},{key:"getUserMedia",value:function(e){var i=this;return this.videoSource=e.video||this.videoSource,this.audioSource=e.audio||this.audioSource,new Promise(function(e){navigator.mediaDevices.getUserMedia({audio:{deviceId:{exact:i.audioSource}},video:{deviceId:{exact:i.videoSource}}}).then(function(t){i.video.srcObject=t;var a=new AudioContext,n=a.createMediaStreamSource(t);i.analyser=a.createAnalyser(),i.analyser.fftSize=i.video.height,n.connect(i.analyser),i.array=new Uint8Array(i.analyser.fftSize);i.video.addEventListener("canplay",function t(){i.video.removeEventListener("canplay",t),i.video.play(),e()})}).catch(function(){prompt.innerHTML="Unable to capture WebCam. Please reload the page."})})}},{key:"update",value:function(){var e=0;this.analyser.getByteTimeDomainData(this.array);for(var i=0;i<this.analyser.fftSize;++i)e=Math.max(this.array[i],e);return e}},{key:"toggleThumb",value:function(e){this.video.style.display=e?"block":"none"}}]),t}();exports.default=t;
},{}],10:[function(require,module,exports) {
module.exports="#define GLSLIFY 1\nattribute vec2 texCoord;\nuniform   mat4 mvpMatrix;\nuniform   float pointSize;\nuniform sampler2D positionTexture;\nuniform sampler2D capturedPositionTexture;\nuniform   float volume;\nuniform   float isStop;\nuniform   float isAudio;\nuniform   float pointShape;\nvarying vec2 vTexCoord;\nvarying vec4 vPosition;\nvoid main(){\n  vTexCoord = texCoord;\n  vec4 position = mix(texture2D(positionTexture, texCoord), texture2D(capturedPositionTexture, vTexCoord), isStop);\n  position.z = position.z * mix(1., volume / 255. * 2., isAudio);\n  vPosition = position;\n  gl_Position = mvpMatrix * vec4(position.xyz, 1.0);\n  gl_PointSize = position.z * pointSize * mix(mix(1., 1.3, pointShape), 4., step(2., pointShape));\n}\n";
},{}],11:[function(require,module,exports) {
module.exports="precision highp float;\n#define GLSLIFY 1\nuniform sampler2D videoTexture;\nuniform sampler2D capturedVideoTexture;\nuniform float     bgColor;\nuniform float     isStop;\nuniform float     mode;\nuniform float     pointShape;\nvarying vec2 vTexCoord;\nvarying vec4 vPosition;\nconst float maxColor = 0.9;\nconst float minColor = 0.1;\n\nfloat lengthN(vec2 v, float n) {\n  vec2 tmp = pow(abs(v), vec2(n));\n  return pow(tmp.x + tmp.y, 1. / n);\n}\n\nvoid main(){\n  vec4 video = mix(texture2D(videoTexture, vTexCoord), texture2D(capturedVideoTexture, vTexCoord), isStop);\n  float rate = vPosition.z / vPosition.w;\n  vec3 color = video.rgb * (maxColor - minColor) + minColor;\n\n  vec2 pointCoord = gl_PointCoord.st * 2. - 1.;\n  float circle = pow(length(pointCoord), 3.);\n  float star = lengthN(pointCoord, 0.5);\n  float shape = mix(1., 1. - mix(circle, star, step(2., pointShape)), pointShape);\n  vec4 particleColor = vec4(vec3(1.), mix(1., shape, step(mode, 0.)));\n\n  gl_FragColor = vec4((color + maxColor * (1. - rate) * mix(-1., 1., bgColor)), sqrt(rate)) * particleColor;\n}\n";
},{}],12:[function(require,module,exports) {
module.exports="#define GLSLIFY 1\nattribute vec3 position;\nvoid main(){\n    gl_Position = vec4(position, 1.0);\n}\n";
},{}],13:[function(require,module,exports) {
module.exports="precision mediump float;\n#define GLSLIFY 1\nuniform vec2      resolution;\nuniform sampler2D videoTexture;\nuniform float     zoom;\nvoid main(){\n  vec2 coord = gl_FragCoord.st / resolution / zoom + (1. - 1. / zoom) / 2.;\n  coord.y = 1. - coord.y;\n  gl_FragColor = texture2D(videoTexture, coord);\n}\n";
},{}],15:[function(require,module,exports) {
module.exports="precision mediump float;\n#define GLSLIFY 1\nuniform sampler2D videoTexture;\nuniform sampler2D prevVideoTexture;\nuniform sampler2D prevPictureTexture;\nuniform vec2      resolution;\nconst float threshold = 0.1;\nconst float fadeoutSpeed = 0.04;\nconst float attenuationRate = 1. - fadeoutSpeed;\n\nfloat getDiff(vec2 coord) {\n  vec4 video = texture2D(videoTexture, coord);\n  vec4 prevVideo = texture2D(prevVideoTexture, coord);\n  return abs(length(video.rgb) - length(prevVideo.rgb)) / 1.732;\n}\n\nvoid main(){\n  vec2 coord = gl_FragCoord.st / resolution;\n  vec4 video = texture2D(videoTexture, coord);\n  vec4 prevVideo = texture2D(prevVideoTexture, coord);\n  vec4 prevPicture = texture2D(prevPictureTexture, coord);\n\n  float diff = getDiff(coord);\n\n  float aroundDiff = 0.;\n\n  aroundDiff += getDiff(coord + vec2(-1., 0.));\n  aroundDiff += getDiff(coord + vec2(0., 1.));\n  aroundDiff += getDiff(coord + vec2(1., 0.));\n  aroundDiff += getDiff(coord + vec2(0., -1.));\n\n  aroundDiff += getDiff(coord + vec2(-2., 0.));\n  aroundDiff += getDiff(coord + vec2(-1., 1.));\n  aroundDiff += getDiff(coord + vec2(0., 2.));\n  aroundDiff += getDiff(coord + vec2(1., 1.));\n  aroundDiff += getDiff(coord + vec2(2., 0.));\n  aroundDiff += getDiff(coord + vec2(1., -1.));\n  aroundDiff += getDiff(coord + vec2(0., -2.));\n  aroundDiff += getDiff(coord + vec2(-1., -1.));\n\n  aroundDiff /= 12.;\n\n  vec3 prevColor = prevPicture.rgb * attenuationRate;\n  float isMove = step(threshold, (diff + aroundDiff));\n  gl_FragColor = vec4(mix(prevColor, video.rgb, isMove), isMove);\n}\n";
},{}],17:[function(require,module,exports) {
module.exports="precision mediump float;\n#define GLSLIFY 1\nuniform vec2 resolution;\nvoid main(){\n  vec2 coord = gl_FragCoord.st / resolution;\n  vec2 p = (coord * 2. - 1.) * resolution * 0.01;\n  gl_FragColor = vec4(p, 1., 1.);\n}\n";
},{}],19:[function(require,module,exports) {
module.exports="precision mediump float;\n#define GLSLIFY 1\nuniform sampler2D prevPositionTexture;\nuniform sampler2D velocityTexture;\nuniform sampler2D pictureTexture;\nuniform vec2      resolution;\nconst float maxZ = 1.;\nconst float minZ = 0.3;\nvoid main(){\n  vec2 coord = gl_FragCoord.st / resolution;\n  vec4 prevPosition = texture2D(prevPositionTexture, coord);\n  vec4 velocity = texture2D(velocityTexture, coord);\n  vec4 picture = texture2D(pictureTexture, coord);\n  float color = length(picture.rgb);\n  float startZ = color * (maxZ - minZ) + minZ;\n  float z = mix(prevPosition.z - velocity.z, startZ, picture.w);\n  gl_FragColor = vec4(prevPosition.xy, z, mix(prevPosition.w, startZ, picture.w));\n}\n";
},{}],21:[function(require,module,exports) {
module.exports="precision mediump float;\n#define GLSLIFY 1\nuniform sampler2D prevVelocityTexture;\nuniform sampler2D pictureTexture;\nuniform vec2      resolution;\nuniform vec2      mouse;\nconst float speed = 0.0004;\nvoid main(){\n  vec2 coord = gl_FragCoord.st / resolution;\n  vec4 prevVelocity = texture2D(prevVelocityTexture, coord);\n  vec4 picture = texture2D(pictureTexture, coord);\n  float velocityZ = mix(speed + prevVelocity.z, 0., picture.w);\n  gl_FragColor = vec4(prevVelocity.xy, velocityZ, 0.);\n}\n";
},{}],4:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=$;var e=require("./minMatrix.js"),i=a(e),t=require("./gl-utils.js"),o=require("./utils.js"),r=require("./media.js"),n=a(r);function a(e){return e&&e.__esModule?e:{default:e}}var u=128,c=256,T=256,d=10,m=void 0,E=void 0,f=void 0,p=void 0,g=void 0,L=void 0,v=void 0,l=[0,0],s=[0,0],R=void 0,U=void 0,b=void 0,S=void 0,F=void 0,_=void 0,y=void 0,h=void 0,A=void 0,x=void 0,D=void 0,N=void 0,P=void 0,I=void 0,X=void 0,G=void 0,w=void 0,M=void 0,C=void 0,B=void 0,O=void 0,H=void 0,q=void 0,V=void 0,k=void 0,j=void 0,Z={},W=void 0,z=void 0,Y=void 0,J=0,K=!1,Q=0;function $(){if(m=document.getElementById("canvas"),E=window.innerWidth,f=window.innerHeight,m.width=E,m.height=f,null!=(p=m.getContext("webgl"))){(0,t.setGl)(p),v=new i.default,g=(0,t.getWebGLExtensions)(),window.addEventListener("keydown",function(e){27===e.keyCode&&(L=!L)&&k()});var e=void 0;m.addEventListener("mousemove",function(i){if(Z.mouse){var t=i.clientX/E*2-1,o=i.clientY/f*2-1;l=[t,-o],clearTimeout(e),m.classList.add("s-move"),e=setTimeout(function(){m.classList.remove("s-move")},500)}}),m.addEventListener("click",function(e){Z.capture&&(K=!0)});var o=(0,t.createShader)(require("../shader/scene.vert"),p.VERTEX_SHADER),r=(0,t.createShader)(require("../shader/scene.frag"),p.FRAGMENT_SHADER),n=(0,t.createProgram)(o,r);if(null!=n){C=new t.ProgramParameter(n);var a=(0,t.createShader)(require("../shader/video.vert"),p.VERTEX_SHADER),u=(0,t.createShader)(require("../shader/video.frag"),p.FRAGMENT_SHADER),c=(0,t.createProgram)(a,u);if(null!=c){B=new t.ProgramParameter(c);var T=(0,t.createShader)(require("../shader/picture.vert"),p.VERTEX_SHADER),d=(0,t.createShader)(require("../shader/picture.frag"),p.FRAGMENT_SHADER),s=(0,t.createProgram)(T,d);if(null!=s){O=new t.ProgramParameter(s);var R=(0,t.createShader)(require("../shader/reset.vert"),p.VERTEX_SHADER),U=(0,t.createShader)(require("../shader/reset.frag"),p.FRAGMENT_SHADER),b=(0,t.createProgram)(R,U);if(null!=b){H=new t.ProgramParameter(b);var S=(0,t.createShader)(require("../shader/position.vert"),p.VERTEX_SHADER),F=(0,t.createShader)(require("../shader/position.frag"),p.FRAGMENT_SHADER),_=(0,t.createProgram)(S,F);if(null!=_){q=new t.ProgramParameter(_);var y=(0,t.createShader)(require("../shader/velocity.vert"),p.VERTEX_SHADER),h=(0,t.createShader)(require("../shader/velocity.frag"),p.FRAGMENT_SHADER),A=(0,t.createProgram)(y,h);null!=A&&(V=new t.ProgramParameter(A),ee())}}}}}}else console.log("webgl unsupported")}function ee(){B.attLocation[0]=p.getAttribLocation(B.program,"position"),B.attStride[0]=3,B.uniLocation[0]=p.getUniformLocation(B.program,"resolution"),B.uniLocation[1]=p.getUniformLocation(B.program,"videoTexture"),B.uniLocation[2]=p.getUniformLocation(B.program,"zoom"),B.uniType[0]="uniform2fv",B.uniType[1]="uniform1i",B.uniType[2]="uniform1f",O.attLocation[0]=p.getAttribLocation(O.program,"position"),O.attStride[0]=3,O.uniLocation[0]=p.getUniformLocation(O.program,"resolution"),O.uniLocation[1]=p.getUniformLocation(O.program,"videoTexture"),O.uniLocation[2]=p.getUniformLocation(O.program,"prevVideoTexture"),O.uniLocation[3]=p.getUniformLocation(O.program,"prevPictureTexture"),O.uniType[0]="uniform2fv",O.uniType[1]="uniform1i",O.uniType[2]="uniform1i",O.uniType[3]="uniform1i",H.attLocation[0]=p.getAttribLocation(H.program,"position"),H.attStride[0]=3,H.uniLocation[0]=p.getUniformLocation(H.program,"resolution"),H.uniLocation[1]=p.getUniformLocation(H.program,"videoTexture"),H.uniType[0]="uniform2fv",H.uniType[1]="uniform1i",V.attLocation[0]=p.getAttribLocation(V.program,"position"),V.attStride[0]=3,V.uniLocation[0]=p.getUniformLocation(V.program,"prevVelocityTexture"),V.uniLocation[1]=p.getUniformLocation(V.program,"pictureTexture"),V.uniLocation[2]=p.getUniformLocation(V.program,"resolution"),V.uniLocation[3]=p.getUniformLocation(V.program,"mouse"),V.uniType[0]="uniform1i",V.uniType[1]="uniform1i",V.uniType[2]="uniform2fv",V.uniType[3]="uniform2fv",q.attLocation[0]=p.getAttribLocation(q.program,"position"),q.attStride[0]=3,q.uniLocation[0]=p.getUniformLocation(q.program,"prevPositionTexture"),q.uniLocation[1]=p.getUniformLocation(q.program,"velocityTexture"),q.uniLocation[2]=p.getUniformLocation(q.program,"pictureTexture"),q.uniLocation[3]=p.getUniformLocation(q.program,"resolution"),q.uniType[0]="uniform1i",q.uniType[1]="uniform1i",q.uniType[2]="uniform1i",q.uniType[3]="uniform2fv",C.attLocation[0]=p.getAttribLocation(C.program,"texCoord"),C.attStride[0]=2,C.uniLocation[0]=p.getUniformLocation(C.program,"mvpMatrix"),C.uniLocation[1]=p.getUniformLocation(C.program,"pointSize"),C.uniLocation[2]=p.getUniformLocation(C.program,"videoTexture"),C.uniLocation[3]=p.getUniformLocation(C.program,"positionTexture"),C.uniLocation[4]=p.getUniformLocation(C.program,"bgColor"),C.uniLocation[5]=p.getUniformLocation(C.program,"volume"),C.uniLocation[6]=p.getUniformLocation(C.program,"capturedVideoTexture"),C.uniLocation[7]=p.getUniformLocation(C.program,"capturedPositionTexture"),C.uniLocation[8]=p.getUniformLocation(C.program,"isStop"),C.uniLocation[9]=p.getUniformLocation(C.program,"isAudio"),C.uniLocation[10]=p.getUniformLocation(C.program,"mode"),C.uniLocation[11]=p.getUniformLocation(C.program,"pointShape"),C.uniType[0]="uniformMatrix4fv",C.uniType[1]="uniform1f",C.uniType[2]="uniform1i",C.uniType[3]="uniform1i",C.uniType[4]="uniform1f",C.uniType[5]="uniform1f",C.uniType[6]="uniform1i",C.uniType[7]="uniform1i",C.uniType[8]="uniform1f",C.uniType[9]="uniform1f",C.uniType[10]="uniform1f",C.uniType[11]="uniform1f";for(var e=c/u/c,i=T/u/T,o=[],r=0;r<1;r+=i)for(var n=r%(2*i)===i,a=0;a<1;a+=e){var d=(n?1:0)+a*(n?-1:1);o.push(d,r)}R=[(0,t.createVbo)(o)],o=[];for(var m=0;m<1-i;m+=i)for(var E=0;E<1;E+=e)E===c-e?(o.push(E,m),o.push(E,m+i)):(o.push(E,m),o.push(E,m+i),o.push(E+e,m+i),o.push(E,m));U=[(0,t.createVbo)(o)];b=[0,1,2,2,1,3],S=[(0,t.createVbo)([1,1,0,-1,1,0,1,-1,0,-1,-1,0])],F=(0,t.createIbo)(b);var f=1;D=[(0,t.createFramebufferFloat)(g,u,u),(0,t.createFramebufferFloat)(g,u,u),(0,t.createFramebufferFloat)(g,u,u)],X=f,f+=D.length,N=[(0,t.createFramebufferFloat)(g,u,u),(0,t.createFramebufferFloat)(g,u,u)],G=f,f+=N.length,P=[(0,t.createFramebufferFloat)(g,u,u),(0,t.createFramebufferFloat)(g,u,u)],w=f,f+=P.length,I=[(0,t.createFramebufferFloat)(g,u,u),(0,t.createFramebufferFloat)(g,u,u),(0,t.createFramebufferFloat)(g,u,u)],M=f,f+=I.length,ie()}function ie(){var e=new dat.GUI,i={black:0,white:1},t=function(e){var i=255*e;m.style.backgroundColor="rgb("+i+", "+i+", "+i+")"};Z.bgColor=(0,o.getFirstValue)(i),e.add(Z,"bgColor",i).onChange(t),t(Z.bgColor);var r={"gl.POINTS":p.POINTS,"gl.LINE_STRIP":p.LINE_STRIP,"gl.TRIANGLES":p.TRIANGLES};Z.mode=(0,o.getFirstValue)(r),e.add(Z,"mode",r);var a=e.addFolder("gl.POINTS");a.open();var c={square:0,circle:1,star:2};Z.pointShape=c.circle,a.add(Z,"pointShape",c);Z.pointSize=d,a.add.apply(a,[Z,"pointSize"].concat([2,30]));var T=e.addFolder("gl.LINE_STRIP");T.open();var E=["line","mesh"],f=function(e){switch(e){case"mesh":z=U,Y=(4*(u-1)+2)*(u-1);break;case"line":default:z=R,Y=u*u}};Z.lineShape=E[0],T.add(Z,"lineShape",E).onChange(f),f(Z.lineShape);var g=e.addFolder("action");g.open();var L=[1,3];Z.videoZoom=L[0],g.add.apply(g,[Z,"videoZoom"].concat(L));Z.canvasZoom=5,g.add.apply(g,[Z,"canvasZoom"].concat([2,8])).onChange(function(){te()}),Z.mouse=!1,g.add(Z,"mouse").onChange(function(){Z.mouse||(l=[0,0])}),Z.capture=!1,g.add(Z,"capture").onChange(function(){J=Z.capture?1:0,K=Z.capture}),Z.stopMotion=!1;var v=void 0;g.add(Z,"stopMotion").onChange(function(){J=Z.stopMotion?1:0,Z.stopMotion?v=setInterval(function(){K=!0},1e3/3):clearTimeout(v)});var s=e.addFolder("video");s.open();var b=e.addFolder("audio");b.open(),(j=new n.default(u)).enumerateDevices().then(function(){var e=function(e){return j.getUserMedia({video:e}).then(function(){W=j.video})},i=Object.keys(j.videoDevices),t=i.filter(function(e){return/FaceTime HD Camera/.test(e)}),o=(t.length>0?t:i)[0];Z.video=j.videoDevices[o],s.add(Z,"video",j.videoDevices).onChange(e),Z.thumb=!1,s.add(Z,"thumb").onChange(function(){j.toggleThumb(Z.thumb)}),Z.inputAudio=!1,b.add(Z,"inputAudio").onChange(function(){Q=Z.inputAudio?1:0});var r=Object.keys(j.audioDevices)[0];Z.audio=j.audioDevices[r],b.add(Z,"audio",j.audioDevices).onChange(function(e){return j.getUserMedia({audio:e})}),e(Z.video).then(oe)})}function te(){_=v.identity(v.create()),y=v.identity(v.create()),h=v.identity(v.create()),A=v.identity(v.create()),x=v.identity(v.create()),v.lookAt([0,0,Z.canvasZoom/(c/u)],[0,0,0],[0,1,0],y),v.perspective(60,E/f,.1,20,h),v.multiply(h,y,A)}function oe(){te();var e=p.createTexture(p.TEXTURE_2D);p.activeTexture(p.TEXTURE0),p.bindTexture(p.TEXTURE_2D,e),p.texImage2D(p.TEXTURE_2D,0,p.RGBA,p.RGBA,p.UNSIGNED_BYTE,W),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE),p.activeTexture(p.TEXTURE0+X),p.bindTexture(p.TEXTURE_2D,D[0].texture),p.activeTexture(p.TEXTURE0+X+1),p.bindTexture(p.TEXTURE_2D,D[1].texture),p.activeTexture(p.TEXTURE0+X+2),p.bindTexture(p.TEXTURE_2D,D[2].texture),p.activeTexture(p.TEXTURE0+G),p.bindTexture(p.TEXTURE_2D,N[0].texture),p.activeTexture(p.TEXTURE0+G+1),p.bindTexture(p.TEXTURE_2D,N[1].texture),p.activeTexture(p.TEXTURE0+w),p.bindTexture(p.TEXTURE_2D,P[0].texture),p.activeTexture(p.TEXTURE0+w+1),p.bindTexture(p.TEXTURE_2D,P[1].texture),p.activeTexture(p.TEXTURE0+M),p.bindTexture(p.TEXTURE_2D,I[0].texture),p.activeTexture(p.TEXTURE0+M+1),p.bindTexture(p.TEXTURE_2D,I[1].texture),p.activeTexture(p.TEXTURE0+M+2),p.bindTexture(p.TEXTURE_2D,I[2].texture),p.useProgram(B.program),p[B.uniType[0]](B.uniLocation[0],[u,u]),p[B.uniType[1]](B.uniLocation[1],0),(0,t.setAttribute)(S,B.attLocation,B.attStride,F),p.viewport(0,0,u,u);for(var i=0;i<D.length;++i)p.bindFramebuffer(p.FRAMEBUFFER,D[i].framebuffer),p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT),p.drawElements(p.TRIANGLES,b.length,p.UNSIGNED_SHORT,0);p.useProgram(O.program),p[O.uniType[0]](O.uniLocation[0],[u,u]),p[O.uniType[1]](O.uniLocation[1],0),(0,t.setAttribute)(S,O.attLocation,O.attStride),p.viewport(0,0,u,u);for(var o=0;o<N.length;++o)p.bindFramebuffer(p.FRAMEBUFFER,N[o].framebuffer),p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT),p.drawElements(p.TRIANGLES,b.length,p.UNSIGNED_SHORT,0);p.useProgram(H.program),p[H.uniType[0]](H.uniLocation[0],[u,u]),p[H.uniType[1]](H.uniLocation[1],0),(0,t.setAttribute)(S,H.attLocation,H.attStride,F),p.viewport(0,0,u,u);for(var r=0;r<P.length;++r)p.bindFramebuffer(p.FRAMEBUFFER,P[r].framebuffer),p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT),p.drawElements(p.TRIANGLES,b.length,p.UNSIGNED_SHORT,0);for(var n=0;n<I.length;++n)p.bindFramebuffer(p.FRAMEBUFFER,I[n].framebuffer),p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT),p.drawElements(p.TRIANGLES,b.length,p.UNSIGNED_SHORT,0);p.disable(p.DEPTH_TEST),p.enable(p.BLEND),p.blendFuncSeparate(p.SRC_ALPHA,p.ONE,p.ONE,p.ONE);var a=0;L=!0,(k=function(){var e=a%2,i=1-e,o=j.update(),r=p.createTexture(p.TEXTURE_2D);p.activeTexture(p.TEXTURE0),p.bindTexture(p.TEXTURE_2D,r),p.texImage2D(p.TEXTURE_2D,0,p.RGBA,p.RGBA,p.UNSIGNED_BYTE,W),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE),p.disable(p.BLEND),p.viewport(0,0,u,u),p.useProgram(B.program),p.bindFramebuffer(p.FRAMEBUFFER,D[e].framebuffer),(0,t.setAttribute)(S,B.attLocation,B.attStride,F),p[B.uniType[0]](B.uniLocation[0],[u,u]),p[B.uniType[1]](B.uniLocation[1],0),p[B.uniType[2]](B.uniLocation[2],Z.videoZoom),p.drawElements(p.TRIANGLES,b.length,p.UNSIGNED_SHORT,0),p.useProgram(O.program),p.bindFramebuffer(p.FRAMEBUFFER,N[e].framebuffer),(0,t.setAttribute)(S,O.attLocation,O.attStride),p[O.uniType[0]](O.uniLocation[0],[u,u]),p[O.uniType[1]](O.uniLocation[1],X+e),p[O.uniType[2]](O.uniLocation[2],X+i),p[O.uniType[3]](O.uniLocation[3],G+i),p.drawElements(p.TRIANGLES,b.length,p.UNSIGNED_SHORT,0),p.useProgram(V.program),p.bindFramebuffer(p.FRAMEBUFFER,P[e].framebuffer),(0,t.setAttribute)(S,V.attLocation,V.attStride,F),p[V.uniType[0]](V.uniLocation[0],w+i),p[V.uniType[1]](V.uniLocation[1],G+e),p[V.uniType[2]](V.uniLocation[2],[u,u]),p[V.uniType[3]](V.uniLocation[3],l),p.drawElements(p.TRIANGLES,b.length,p.UNSIGNED_SHORT,0),p.useProgram(q.program),p.bindFramebuffer(p.FRAMEBUFFER,I[e].framebuffer),(0,t.setAttribute)(S,q.attLocation,q.attStride,F),p[q.uniType[0]](q.uniLocation[0],M+i),p[q.uniType[1]](q.uniLocation[1],w+e),p[q.uniType[2]](q.uniLocation[2],G+e),p[q.uniType[3]](q.uniLocation[3],[u,u]),p.drawElements(p.TRIANGLES,b.length,p.UNSIGNED_SHORT,0),K&&(p.useProgram(B.program),p.bindFramebuffer(p.FRAMEBUFFER,D[2].framebuffer),(0,t.setAttribute)(S,B.attLocation,B.attStride,F),p[B.uniType[0]](B.uniLocation[0],[u,u]),p[B.uniType[1]](B.uniLocation[1],0),p[B.uniType[2]](B.uniLocation[2],Z.videoZoom),p.drawElements(p.TRIANGLES,b.length,p.UNSIGNED_SHORT,0),p.useProgram(q.program),p.bindFramebuffer(p.FRAMEBUFFER,I[2].framebuffer),(0,t.setAttribute)(S,q.attLocation,q.attStride,F),p[q.uniType[0]](q.uniLocation[0],M+i),p[q.uniType[1]](q.uniLocation[1],w+e),p[q.uniType[2]](q.uniLocation[2],G+e),p[q.uniType[3]](q.uniLocation[3],[u,u]),p.drawElements(p.TRIANGLES,b.length,p.UNSIGNED_SHORT,0),K=!1),p.enable(p.BLEND),p.useProgram(C.program),p.bindFramebuffer(p.FRAMEBUFFER,null),(0,t.setAttribute)(z,C.attLocation,C.attStride),p.clearColor(0,0,0,0),p.clearDepth(1),p.clear(p.COLOR_BUFFER_BIT|p.DEPTH_BUFFER_BIT),p.viewport(0,0,E,f),s[0]+=.05*(l[0]-s[0]),s[1]+=.05*(l[1]-s[1]),v.identity(_),v.rotate(_,s[0],[0,1,0],_),v.rotate(_,s[1],[-1,0,0],_),v.multiply(A,_,x),p[C.uniType[0]](C.uniLocation[0],!1,x),p[C.uniType[1]](C.uniLocation[1],Z.pointSize*f/930),p[C.uniType[2]](C.uniLocation[2],X+e),p[C.uniType[3]](C.uniLocation[3],M+e),p[C.uniType[4]](C.uniLocation[4],Z.bgColor),p[C.uniType[5]](C.uniLocation[5],o),p[C.uniType[6]](C.uniLocation[6],X+2),p[C.uniType[7]](C.uniLocation[7],M+2),p[C.uniType[8]](C.uniLocation[8],J),p[C.uniType[9]](C.uniLocation[9],Q),p[C.uniType[10]](C.uniLocation[10],Z.mode),p[C.uniType[11]](C.uniLocation[11],Z.pointShape),p.drawArrays(Z.mode,0,Y),p.flush(),++a,L&&requestAnimationFrame(k)})()}
},{"./minMatrix.js":6,"./gl-utils.js":7,"./utils.js":8,"./media.js":9,"../shader/scene.vert":10,"../shader/scene.frag":11,"../shader/video.vert":12,"../shader/video.frag":13,"../shader/picture.vert":12,"../shader/picture.frag":15,"../shader/reset.vert":12,"../shader/reset.frag":17,"../shader/position.vert":12,"../shader/position.frag":19,"../shader/velocity.vert":12,"../shader/velocity.frag":21}],3:[function(require,module,exports) {
"use strict";var e=require("./script.js"),r=t(e);function t(e){return e&&e.__esModule?e:{default:e}}(0,r.default)();
},{"./script.js":4}]},{},[3])